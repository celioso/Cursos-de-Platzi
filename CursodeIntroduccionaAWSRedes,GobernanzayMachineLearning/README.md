# Curso de Introducci√≥n a AWS Redes, Gobernanza y Machine Learning

Si todav√≠a no tienes conocimientos de AWS, recuerda tomar primero los cursos de [introducci√≥n al cloud computing](https://platzi.com/cursos/aws-fundamentos "introducci√≥n al cloud computing") y [c√≥mputo, almacenamiento y bases de datos](https://platzi.com/cursos/aws-computo/ "c√≥mputo, almacenamiento y bases de datos").

### ¬øQu√© aprender√°s en este curso?

En este curso aprenderemos

- Componentes principales de redes en AWS: VPC, CloudFront, Route 53
- Creaci√≥n de los componentes b√°sicos de una VPC
- Gobernanza
- Servicios de machine learning

### ¬øQui√©n es el profesor?

Alexis Araujo, Data Architect dentro del team Platzi. Apasionado por el uso de tecnolog√≠a cloud, Alexis es un Cloud Practicioner certificado por AWS.

**Lecturas recomendadas**

[Curso de Introducci√≥n a AWS: C√≥mputo, Almacenamiento y Bases de Datos - Platzi](https://platzi.com/cursos/aws-computo/)

[Curso de Introducci√≥n a AWS: Fundamentos de Cloud Computing - Platzi](https://platzi.com/cursos/aws-fundamentos)

## Qu√© son las redes

AWS ofrece varios servicios para gestionar redes en la nube. Aqu√≠ te explico los principales:

### **üìå 1. Amazon Virtual Private Cloud (Amazon VPC)**  

Amazon VPC permite crear una **red privada y aislada** en AWS donde puedes desplegar recursos como instancias **EC2, bases de datos y servicios**.  

‚úÖ **Definir rangos de IP privadas**  
‚úÖ **Crear subredes p√∫blicas y privadas**  
‚úÖ **Configurar reglas de tr√°fico con Security Groups y NACLs**  
‚úÖ **Conectar con Internet o redes locales** mediante **VPN o Direct Connect**  

üîπ **Ejemplo de uso:**  
- Crear una VPC con subredes privadas para bases de datos y subredes p√∫blicas para servidores web.  
- Conectar tu oficina con AWS usando **VPN o Direct Connect**.

### **üìå 2. AWS Transit Gateway**  

AWS Transit Gateway permite **conectar m√∫ltiples VPC y redes locales** en una arquitectura centralizada.  

‚úÖ **Reduce la complejidad de conexiones** entre m√∫ltiples VPC y redes on-premises.  
‚úÖ **Mejora el rendimiento y la seguridad** en comparaci√≥n con conexiones punto a punto (VPC Peering).  
‚úÖ **Soporta conectividad con VPN y Direct Connect**.  

üîπ **Ejemplo de uso:**  
- Una empresa con m√∫ltiples VPC en diferentes regiones puede conectar todas usando un **Transit Gateway** en vez de m√∫ltiples conexiones **VPC Peering**.

### **üìå 3. AWS PrivateLink**  

AWS PrivateLink permite acceder a **servicios de AWS o aplicaciones de terceros de forma privada** dentro de tu VPC, sin pasar por Internet.  

‚úÖ **Mayor seguridad** al evitar tr√°fico p√∫blico.  
‚úÖ **Baja latencia y menor exposici√≥n a amenazas externas**.  
‚úÖ **Ideal para conectar VPC a servicios de AWS como S3, DynamoDB, RDS** de forma privada.  

üîπ **Ejemplo de uso:**  
- Conectar tu VPC a **Amazon S3 o DynamoDB** sin exponer el tr√°fico a Internet.  
- Usar un servicio de un proveedor externo a trav√©s de **PrivateLink** sin abrir puertos p√∫blicos.

### **üìå 4. Amazon Route 53**  

Amazon Route 53 es el servicio de **DNS escalable y altamente disponible** de AWS.  

‚úÖ **Gesti√≥n de nombres de dominio** y registros DNS.  
‚úÖ **Balanceo de carga con geolocalizaci√≥n y failover**.  
‚úÖ **Integraci√≥n con AWS para enrutar tr√°fico entre servicios**.  

üîπ **Ejemplo de uso:**  
- Crear un dominio personalizado para tu aplicaci√≥n en AWS.  
- Configurar **balanceo de carga global** redirigiendo tr√°fico seg√∫n la ubicaci√≥n del usuario.

### **üöÄ Resumen y Comparaci√≥n**  

| Servicio        | Funci√≥n Principal | Casos de Uso |
|---------------|----------------|--------------|
| **Amazon VPC** | Crea una red privada en AWS | Alojar aplicaciones con control de red |
| **AWS Transit Gateway** | Conecta m√∫ltiples VPC y redes locales | Empresas con muchas VPC o conexiones h√≠bridas |
| **AWS PrivateLink** | Acceso privado a servicios de AWS o terceros | Conectar servicios sin exponerlos a Internet |
| **Amazon Route 53** | Servicio DNS escalable | Dominios personalizados, balanceo de carga global |

üìå **Conclusi√≥n:**  
AWS ofrece herramientas poderosas para la conectividad en la nube. **VPC** es la base de la red, **Transit Gateway** facilita la conectividad entre m√∫ltiples redes, **PrivateLink** asegura accesos privados y **Route 53** gestiona dominios y balanceo de carga.

### Resumen

Las **redes** son c√≥mo est√°n conectadas las computadoras (y otros dispositivos tecnol√≥gicos) entre s√≠, y los servicios que permiten esto.

Una muy conocida es el Internet, que consiste en una red de computadoras abierta al mundo. Para que Internet funcione es necesario contar con direcciones IP, enrutadores, DNS y seguridad. AWS provee servicios que permiten la creaci√≥n de redes y la entrega de contenido a los usuarios de manera r√°pida.

### Redes en la nube

Entre los servicios de AWS para implementar redes en la nube encontramos:

- [Amazon Virtual Private Cloud (Amazon VPC):](https://platzi.com/clases/2733-aws-redes/48886-que-es-una-vpc/ "Amazon Virtual Private Cloud (Amazon VPC): permite definir y aprovisionar una red privada para nuestros recursos de AWS
- [AWS Transit Gateway](https://aws.amazon.com/transit-gateway/?whats-new-cards.sort-by=item.additionalFields.postDateTime&whats-new-cards.sort-order=desc "AWS Transit Gateway"): Permite conectar VPC con los recursos locales (on-premises) mediante un hub central
- [AWS PrivateLink](https://aws.amazon.com/privatelink/?privatelink-blogs.sort-by=item.additionalFields.createdDate&privatelink-blogs.sort-order=desc "AWS PrivateLink"): proporciona conectividad privada entre las VPC y aplicaciones locales, sin exponer el tr√°fico al Internet p√∫blico
- [Amazon Route 53](https://platzi.com/clases/2733-aws-redes/48888-route-53/ "Amazon Route 53"): permite alojar nuestro propio DNS administrado

### Redes a escala

Estos servicios nos permiten escalar el tr√°fico de red seg√∫n las necesidades:

- **Elastic Load Balancing**: permite distribuir autom√°ticamente el tr√°fico de red a trav√©s de un grupo de recursos, con el fin de mejorar la escalabilidad
- **AWS Global Accelerator**: redirige el tr√°fico a trav√©s de la red global de AWS para mejorar el rendimiento de las aplicaciones globales
- **Amazon CloudFront**: entrega de forma segura datos, videos y aplicaciones a clientes de todo el mundo con baja latencia.

**Lecturas recomendadas**

[Curso de Redes Inform√°ticas de Internet - Platzi](https://platzi.com/cursos/redes/)

## Qu√© es una VPC

Una **VPC (Virtual Private Cloud)** es una red virtual en la nube de AWS que permite a los usuarios lanzar recursos de AWS en un entorno aislado l√≥gicamente. B√°sicamente, es una red privada definida por software dentro de AWS, en la que se pueden configurar subredes, tablas de enrutamiento, puertas de enlace de Internet y reglas de seguridad para controlar el tr√°fico de red.

### **Caracter√≠sticas clave de una VPC en AWS**:
1. **Aislamiento l√≥gico**: Permite que los recursos se ejecuten en una red virtual separada de otras VPCs y clientes de AWS.
2. **Subredes personalizadas**: Se pueden definir subredes p√∫blicas y privadas dentro de la VPC.
3. **Control del tr√°fico**: Uso de **Security Groups** y **Network ACLs** para administrar el tr√°fico entrante y saliente.
4. **Opciones de conectividad**: Se puede conectar a Internet, otras VPCs, centros de datos locales o servicios como AWS Direct Connect y VPN.
5. **Alta disponibilidad y escalabilidad**: Compatible con balanceo de carga y autoescalado.

En resumen, una **VPC** proporciona un entorno seguro y flexible para alojar servidores, bases de datos y otras aplicaciones en la nube de AWS.

### Resumen

Una VPC es una red virtual privada. Cada computadora que est√° conectada a otra computadora por medio de un cable, enrutador o antena de wifi, requiere de una interfaz de red para ser conectada. La interfaz de red es el puente entre nuestra computadora y la tecnolog√≠a ya utilizada para conectarse a la otra computadora.

Una vez que conectamos las computadoras, debemos configurar la red, para lo cual necesitamos un [rango de direcciones IP](https://platzi.com/clases/2225-redes/35586-clases-de-redes/ "rango de direcciones IP").

### Qu√© es el rango de direcciones IP

El rango de direcciones IP es como una comunidad cerrada local, donde los equipos se podr√°n comunicar solo con otros equipos dentro de la misma red. A cada equipo se le asigna una direcci√≥n IPv4. Es decir, se le dan 4 n√∫meros que var√≠an del 0 al 255 separados por un punto. Para redes privadas ya se tienen especificados los rangos de IP:

- 10.0.0.1
- 172.16.0.1
- 192.168.0.1

### Para qu√© sirve Amazon VPC

Amazon VPC permite crear una red virtual para poder conectarnos a todos los servicios de AWS que existan en un rango de direcciones IP locales (por ejemplo, 10.0.0.0/24, que representa del rango de IP entre 10.0.0.0 y 10.0.0.255). Esta red virtual ser√° como una peque√±a comunidad cerrada para nuestras m√°quinas virtuales y todos los servicios que tengamos dentro de AWS.

### Componentes de Amazon VPC

Amazon VPC posee los siguientes componentes para controlar el tr√°fico interno y externo de nuestras VPC

- **Nat Gateway**: si deseamos que nuestras m√°quinas virtuales puedan acceder a internet, debemos utilizar este componente
- **Internet Gateway**: permite que Internet pueda acceder a nuestra instancia de EC2
- **ACL Control List**: controla el tr√°fico que vamos a permitir dentro y fuera de la VPC

## Escogiendo CloudFront

### **¬øCu√°ndo elegir Amazon CloudFront?**  

Amazon **CloudFront** es un **servicio de red de entrega de contenido (CDN)** que acelera la distribuci√≥n de contenido est√°tico y din√°mico a usuarios de todo el mundo. Es ideal para aplicaciones con requisitos de baja latencia y alto rendimiento.  

### **Casos en los que se recomienda usar CloudFront**  

‚úÖ **Distribuci√≥n de contenido est√°tico** (im√°genes, videos, archivos CSS/JS)  
‚úÖ **Streaming de video** (HLS, DASH, Smooth Streaming)  
‚úÖ **Aceleraci√≥n de sitios web y APIs**  
‚úÖ **Protecci√≥n contra ataques DDoS** (integraci√≥n con AWS Shield)  
‚úÖ **Optimizaci√≥n de costos** (reduce tr√°fico a servidores backend)  

Si necesitas **entregar contenido r√°pido, seguro y eficiente a nivel global**, **Amazon CloudFront** es la opci√≥n ideal.

### Resumen

Antes de hablar de CloudFront, recordemos c√≥mo funciona [AWS ElastiCache](https://platzi.com/clases/2732-aws-computo/47026-evaluando-elasticache/ "AWS ElastiCache"). **ElastiCache es un servicio que almacena en memoria cach√© las solicitudes a la base de datos, para evitar el consultar la base de datos cada vez que se necesite acceder a informaci√≥n**. Este servicio se ubica entre el sitio web y la base de datos

**CloudFront funciona de manera similar, solo que este es un servicio intermedio entre el navegador (o el cliente) y el sitio web**. El prop√≥sito de CloudFront es entregar datos, aplicaciones y sitios web en todos el mundo con baja latencia. Para esto, AWS cuenta con **edge locations** (o ubicaciones de borde), es decir, m√∫ltiples ubicaciones en el mundo desde las cuales CloudFront puede servir contenido.

**Casos de uso de CloudFront**

Supongamos que un cliente accede a nuestro sitio web. En realidad, el cliente primero accede a CloudFront. Entonces CloudFront redirige autom√°ticamente la solicitud de archivo desde el edge location m√°s cercano. Los archivos se almacenan en la cach√© de la ubicaci√≥n de borde primero, durante un periodo de tiempo limitado que nosotros necesitemos.

Si un cliente solicita el contenido que est√° almacenado en cach√© por m√°s tiempo que el vencimiento especificado, CloudFront verifica en el servidor de origen para ver si hay una nueva versi√≥n del archivo disponible. Si el archivo ha sido modificado, se retorna la nueva versi√≥n del archivo. En caso contrario, se entrega la versi√≥n que estaba en cach√©.

Cualquier cambio que realicemos en los archivos se replicar√° en las ubicaciones de borde a medida que sus visitantes est√°n entrando y solicitando el contenido. Esto es lo que mantiene a los sitios web r√°pidos sin importar la ubicaci√≥n del usuario.

### Caracter√≠sticas de CloudFront

- CloudFront es seguro: ofrece protecci√≥n contra ataques DDOS, ya que los primeros servidores en recibir estos ataques ser√°n los de CloudFront y no los tuyos. Adem√°s, CloudFront est√° protegido ante picos de tr√°fico.
- CloudFront tambi√©n permite ejecutar funciones de [AWS Lambda](https://platzi.com/clases/2732-aws-computo/47016-aprendiendo-sobre-lambda/ "AWS Lambda") en las ubicaciones de borde.
- CloudFront ofrece m√∫ltiples m√©tricas en tiempo real, y es rentable.

## Qu√© es Route 53

**Amazon Route 53** es un **servicio de DNS (Sistema de Nombres de Dominio) escalable y altamente disponible** que permite administrar nombres de dominio y enrutar el tr√°fico de Internet de manera eficiente.

### **¬øPara qu√© sirve Route 53?**

‚úî **Registrar dominios**: Puedes comprar y administrar nombres de dominio directamente en AWS.  
‚úî **Resolver nombres de dominio**: Convierte nombres de dominio (como `miweb.com`) en direcciones IP (`192.168.1.1`).  
‚úî **Rutas inteligentes de tr√°fico**: Distribuye tr√°fico basado en latencia, geolocalizaci√≥n o salud de servidores.  
‚úî **Alta disponibilidad**: Integra con AWS servicios como **CloudFront, S3 y EC2** para mejorar rendimiento.  
‚úî **Monitoreo y failover**: Detecta fallas y redirige el tr√°fico autom√°ticamente a una instancia saludable.

### **¬øCu√°ndo usar Route 53?**

‚úÖ **Si necesitas un DNS r√°pido, seguro y confiable**.  
‚úÖ **Para administrar tr√°fico global y mejorar disponibilidad**.  
‚úÖ **Si quieres combinarlo con otros servicios de AWS**.  

üîπ **Conclusi√≥n**: Amazon Route 53 es ideal para gestionar dominios y enrutar tr√°fico con escalabilidad y alta disponibilidad.

### Resumen

[DNS](https://platzi.com/clases/2053-introweb/32966-dns/ "DNS") es un sistema que asigna direcciones IP a nombres de dominio. **Route 53 es un servicio de alojamiento de DNS, que cuesta tan solo $0.5 por nombre de dominio por mes. Route 53 cuenta con distintas opciones de pol√≠tica de enrutamiento**.

### Pol√≠ticas de enrutamiento

Las pol√≠ticas de enrutamiento nos permiten determinar a d√≥nde se dirigir√° un usuario cuando acceda a nuestro dominio. Estas pol√≠ticas son:

### Ruteo simple

El ruteo simple utiliza el servicio de DNS est√°ndar. Es decir, el tr√°fico en un dominio se enruta hacia un recurso muy espec√≠fico.

### Pol√≠tica ponderada

La **pol√≠tica ponderada** (o *weighted routing*) te permite asociar m√∫ltiples recursos con un solo nombre de dominio, y ver qu√© tanto tr√°fico es dirigido a cada recurso. Esto se determina con un n√∫mero del 0 al 255, donde el cero representa que el recurso no recibe ning√∫n tr√°fico, y el 255 indica que el recurso recibe todo el tr√°fico.

Mediante la pol√≠tica ponderada podemos probar distintas versiones de nuestro sitio web con un n√∫mero reducido de usuarios. Luego podemos realizar una transici√≥n lenta de nuestros usuarios hacia la nueva versi√≥n del sitio.

### Pol√≠tica de geolocalizaci√≥n

Usando la **pol√≠tica de geolocalizaci√≥n** podemos escoger qu√© recursos servir en funci√≥n de la ubicaci√≥n geogr√°fica de nuestros usuarios. Esto permite servir contenido espec√≠fico seg√∫n la regi√≥n, as√≠ como restringir la distribuci√≥n del mismo solo a las regiones permitidas.

### Pol√≠tica de latencia

La pol√≠tica de latencia se trata de entregar los recursos desde la regi√≥n de AWS que est√© m√°s cercana a la ubicaci√≥n del usuario, a fin de reducir el tiempo de respuesta.

### Pol√≠tica de conmutaci√≥n por error

La pol√≠tica de conmutaci√≥n por error redirige el tr√°fico a un recurso cuando este est√° en buen estado, o a uno diferente cuando el primer recurso no est√° en buen estado.

### Pol√≠tica de respuesta de m√∫ltiples valores

La **respuesta de m√∫ltiples valores** permite devolver varios valores, como direcciones IP a los servidores web, en respuesta a las consultas de DNS. Se pueden especificar varios valores para casi cualquier registro, pero este direccionamiento tambi√©n permite verificar el estado de cada recurso, por lo que Route 53 devuelve los valores √∫nicamente para los recursos en buen estado.

**Esta pol√≠tica no es sustituto de un balanceador de carga**, pero la capacidad de devolver varias direcciones IP (cuyo estado sea comprobable) permite usar el DNS para mejorar la disponibilidad y el equilibrio de la carga.

**Conclusi√≥n**

**Route 53 es un servicio complejo, pero √∫til para mantener nuestros sitios web r√°pidos y altamente disponibles. Es rentable, seguro, escalable, y posee distintas opciones de enrutamiento para distintos casos**.

## C√≥mo crear el diagrama de una VPC

Para crear un diagrama de una **VPC en AWS**, sigue estos pasos:

### **1Ô∏è‚É£ Definir la arquitectura de la VPC**  
Tu VPC debe incluir elementos clave como:  
‚úÖ **CIDR Block**: El rango de direcciones IP privadas (Ej: `10.0.0.0/16`).  
‚úÖ **Subredes**: Al menos una p√∫blica y una privada.  
‚úÖ **Internet Gateway (IGW)**: Permite el acceso a Internet.  
‚úÖ **Route Tables**: Define c√≥mo se enruta el tr√°fico entre subredes.  
‚úÖ **NAT Gateway**: Permite que las subredes privadas accedan a Internet sin ser accesibles desde el exterior.  
‚úÖ **Security Groups & Network ACLs**: Controlan el tr√°fico entrante y saliente.

### **2Ô∏è‚É£ Elegir una herramienta para diagramar**  
Puedes usar:  
üîπ **AWS Diagramming Tool (en AWS Architecture Center)**  
üîπ **Lucidchart**  
üîπ **Draw.io** (gratuito y f√°cil de usar)  
üîπ **Visio**  
üîπ **Excalidraw**

### **3Ô∏è‚É£ Construcci√≥n del diagrama**  
Aqu√≠ te dejo una estructura t√≠pica:  

üìå **Ejemplo de diagrama de una VPC con 2 subredes**  
```
                 ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                 ‚îÇ              AWS VPC                ‚îÇ  (10.0.0.0/16)
                 ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
                 ‚îÇ                                      ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ   Subred P√∫blica      ‚îÇ      ‚îÇ   Subred Privada      ‚îÇ
    ‚îÇ  (10.0.1.0/24)        ‚îÇ      ‚îÇ  (10.0.2.0/24)        ‚îÇ
    ‚îÇ   Internet Gateway    ‚îÇ      ‚îÇ  NAT Gateway (Opcional) ‚îÇ
    ‚îÇ  EC2 (Servidor Web)   ‚îÇ      ‚îÇ  EC2 (Base de Datos)  ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                 ‚îÇ                              ‚îÇ
                 ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ Route Table ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```
---
### **4Ô∏è‚É£ Validaci√≥n y Mejoras**  
üîπ Usa **AWS Well-Architected Tool** para validar la arquitectura.  
üîπ Considera **VPC Peering** si necesitas comunicarte con otras VPCs.  
üîπ A√±ade **VPN o AWS Direct Connect** si integras con tu red local.

### Resumen

Aprend√°mos a crear los componentes b√°sicos de una VPC desde cero. **Primero necesitamos hacer un diagrama para entender c√≥mo est√°n divididos estos componentes b√°sicos**.

Para originar el diagrama nos dirigimos [a esta herramienta de diagramas de flujo](https://app.diagrams.net/ "a esta herramienta de diagramas de flujo") y escogemos d√≥nde guardaremos el diagrama (en esta clase se escoge Google Drive, pero puedes guardarlo donde prefieras). Entonces le damos a **‚ÄúCreate New Diagram‚Äù** -> **‚ÄúBlank Diagram‚Äù**.

### Creando el diagrama de la VPC

En el recuadro de b√∫squeda podemos poner ‚ÄúAWS VPC‚Äù. Escogemos la siguiente figura.

![VPC shape](images/VPC_shape.png)

Luego, buscamos las siguientes figuras: ‚ÄúAWS Internet Gateway‚Äù, ‚ÄúUser‚Äù, ‚Äúnetwork access control‚Äù, ‚Äúrouter‚Äù y ‚Äúsubnet‚Äù. Entonces las ordenamos de la siguiente manera

![Diagrama de VPC](images/Diagrama_de_VPC.png)

Este es el diagrama final. Muestra que cuando un usuario intenta acceder al VPC se encontrar√° con el **[Internet Gateway](https://docs.aws.amazon.com/vpc/latest/userguide/VPC_Internet_Gateway.html "Internet Gateway")**. Luego, el tr√°fico ser√° dirigido al **router**, que se encargar√° de redirigirlo a una de las dos subnets las cuales contienen un **Network Access Control List**. Este se encargar√° de validar que el usuario pueda acceder al contenido.

**Lecturas recomendadas**

[Cloud Computing Services - Amazon Web Services (AWS)](https://aws.amazon.com/)

[Flowchart Maker & Online Diagram Software](https://app.diagrams.net/)

## C√≥mo crear la VPC y el internet gateway

Puedes crear una VPC y un Internet Gateway desde la **Consola de AWS** o usando la **AWS CLI**. Aqu√≠ te explico ambos m√©todos.

### **üìå Opci√≥n 1: Crear VPC desde la Consola de AWS**  

1Ô∏è‚É£ **Ir a la Consola de AWS** ‚Üí **VPC** ‚Üí **Crear VPC**  
2Ô∏è‚É£ **Configurar la VPC**:  
   - **Nombre**: `MiVPC`  
   - **Rango de IP (CIDR)**: `10.0.0.0/16`  
   - **Tenancy**: `Predeterminado`  
3Ô∏è‚É£ **Crear y guardar**  

4Ô∏è‚É£ **Crear un Internet Gateway (IGW)**:  
   - Ir a **Internet Gateways** ‚Üí **Crear Internet Gateway**  
   - **Nombre**: `MiInternetGateway`  
   - Hacer clic en **Crear**  

5Ô∏è‚É£ **Adjuntar el IGW a la VPC**:  
   - Seleccionar `MiInternetGateway`  
   - Hacer clic en **Acciones ‚Üí Adjuntar a VPC**  
   - Seleccionar `MiVPC` y **Confirmar**

## **üìå Opci√≥n 2: Crear VPC e IGW con AWS CLI**  

üìå **Crear la VPC:**  
```sh
aws ec2 create-vpc --cidr-block 10.0.0.0/16 --tag-specifications 'ResourceType=vpc,Tags=[{Key=Name,Value=MiVPC}]'
```

üìå **Crear el Internet Gateway:**  
```sh
aws ec2 create-internet-gateway --tag-specifications 'ResourceType=internet-gateway,Tags=[{Key=Name,Value=MiInternetGateway}]'
```

üìå **Adjuntar el IGW a la VPC:**  
```sh
VPC_ID=$(aws ec2 describe-vpcs --filters "Name=cidr-block,Values=10.0.0.0/16" --query "Vpcs[0].VpcId" --output text)
IGW_ID=$(aws ec2 describe-internet-gateways --filters "Name=tag:Name,Values=MiInternetGateway" --query "InternetGateways[0].InternetGatewayId" --output text)

aws ec2 attach-internet-gateway --internet-gateway-id $IGW_ID --vpc-id $VPC_ID
```

### **üìå Pasos Siguientes**  
‚úÖ **Crear subredes** (p√∫blica y privada)  
‚úÖ **Configurar una tabla de enrutamiento** para permitir tr√°fico a Internet  
‚úÖ **Configurar reglas de seguridad** en los Security Groups

### Resumen

Una vez creado nuestro [diagrama de vpc](https://platzi.com/clases/2733-aws-redes/48889-crea-el-diagrama/ "diagrama de vpc"), [iniciamos sesi√≥n en AWS](https://console.aws.amazon.com/console/home?nc2=h_ct&src=header-signin "iniciamos sesi√≥n en AWS") para crear los primeros componentes de nuestra VPC.

### Pasos para crear la VPC

1. En la caja de b√∫squeda de AWS buscamos VPC y seleccionamos el primer resultado.
2. Nos dirigimos a ‚Äú**Sus VPC**‚Äù y le damos a ‚Äú**Crear VPC**‚Äù.
3. Colocamos las siguientes opciones, y dejamos el resto de valores por defecto:

- **Etiqueta de nombre - opcional**: DemoVPCLaboratorio.
- **Bloque de CIDR IPv4**: Entrada manual de CIDR IPv4.
- **CIDR IPv4**: 10.0.0.0/24.

![Configuraci√≥n de la VPC](images/Configuracion_de_la_VPC.png)

Entonces le damos a **Crear VPC**.

### Pasos para crear el Internet Gateway

1. Nos dirigimos a **‚ÄúGateways de Internet‚Äù -> ‚ÄúCrear gateway de Internet‚Äù**.
2. En ‚Äú**Etiqueta de nombre**‚Äù, colocamos ‚Äú**DemoIGWLaboratorio**‚Äù, y le damos a ‚ÄúCrear gateway de Internet‚Äù.
3. Nos aparecer√° nuestro nuevo Internet Gateway con un estado ‚ÄúDetached‚Äù, ya que no est√° ligado a ninguna VPC.
4. Para conectar el Intenet Gateway a nuestra VPC, simplemente le damos clic en ‚Äú**Acciones**‚Äù -> ‚Äú**Conectar a la VPC**‚Äù.
5. Aqu√≠ seleccionamos nuestra VPC, y le damos clic a ‚Äú**Concetar gateway de Internet**‚Äù. Ojo, **el Internet Gatway y la VPC deben estar en la misma regi√≥n.**

![diagrama de la VPC](images/diagramaVPC.png)

Ya con esto creamos dos de los componentes de nuestra VPC.

## C√≥mo crear la tabla de enrutamiento y otros componentes 

Despu√©s de crear la **VPC y el Internet Gateway (IGW)**, necesitas:  
‚úî **Tabla de enrutamiento** para dirigir el tr√°fico.  
‚úî **Subredes** (p√∫blica y privada).  
‚úî **Asociar la tabla de enrutamiento** con las subredes.  
‚úî **Configurar un grupo de seguridad** para controlar el tr√°fico.

### **üìå Paso 1: Crear Subredes**

Debes crear al menos **una subred p√∫blica** y **una privada** dentro de la VPC.

### **Desde la Consola AWS**

1Ô∏è‚É£ Ir a **VPC** ‚Üí **Subredes** ‚Üí **Crear Subred**  
2Ô∏è‚É£ **Seleccionar la VPC creada (MiVPC)**  
3Ô∏è‚É£ **Crear subred p√∫blica**  
   - Nombre: `SubredPublica`  
   - CIDR: `10.0.1.0/24`  
   - Zona de disponibilidad: (Ej: `us-east-1a`)  
   - **Habilitar la asignaci√≥n autom√°tica de IPs p√∫blicas**  
4Ô∏è‚É£ **Crear subred privada**  
   - Nombre: `SubredPrivada`  
   - CIDR: `10.0.2.0/24`  
   - Zona de disponibilidad: (Ej: `us-east-1b`)  

### **Desde AWS CLI**

```sh
VPC_ID=$(aws ec2 describe-vpcs --filters "Name=tag:Name,Values=MiVPC" --query "Vpcs[0].VpcId" --output text)

aws ec2 create-subnet --vpc-id $VPC_ID --cidr-block 10.0.1.0/24 --availability-zone us-east-1a --tag-specifications 'ResourceType=subnet,Tags=[{Key=Name,Value=SubredPublica}]'

aws ec2 create-subnet --vpc-id $VPC_ID --cidr-block 10.0.2.0/24 --availability-zone us-east-1b --tag-specifications 'ResourceType=subnet,Tags=[{Key=Name,Value=SubredPrivada}]'
```

## **üìå Paso 2: Crear la Tabla de Enrutamiento y Asociarla**

La tabla de enrutamiento define c√≥mo se dirige el tr√°fico dentro de la VPC.

### **Desde la Consola AWS**

1Ô∏è‚É£ Ir a **VPC** ‚Üí **Tablas de Enrutamiento** ‚Üí **Crear Tabla de Enrutamiento**  
2Ô∏è‚É£ **Nombre**: `TablaPublica`  
3Ô∏è‚É£ **Seleccionar la VPC (MiVPC)**  
4Ô∏è‚É£ **Agregar Ruta**:  
   - Destino: `0.0.0.0/0` (todo el tr√°fico)  
   - Target: `Internet Gateway (MiInternetGateway)`  
5Ô∏è‚É£ **Asociar con la Subred P√∫blica**  
   - Ir a **Asociaciones de Subredes** ‚Üí Seleccionar `SubredPublica`  

### **Desde AWS CLI**

```sh
# Crear tabla de enrutamiento
RT_ID=$(aws ec2 create-route-table --vpc-id $VPC_ID --query "RouteTable.RouteTableId" --output text)
aws ec2 create-tags --resources $RT_ID --tags Key=Name,Value=TablaPublica

# Agregar ruta a Internet Gateway
IGW_ID=$(aws ec2 describe-internet-gateways --filters "Name=tag:Name,Values=MiInternetGateway" --query "InternetGateways[0].InternetGatewayId" --output text)
aws ec2 create-route --route-table-id $RT_ID --destination-cidr-block 0.0.0.0/0 --gateway-id $IGW_ID

# Asociar con la Subred P√∫blica
SUBNET_ID=$(aws ec2 describe-subnets --filters "Name=tag:Name,Values=SubredPublica" --query "Subnets[0].SubnetId" --output text)
aws ec2 associate-route-table --route-table-id $RT_ID --subnet-id $SUBNET_ID
```

## **üìå Paso 3: Configurar un Grupo de Seguridad (Firewall de AWS)**  
Los grupos de seguridad controlan el tr√°fico entrante y saliente de instancias EC2.

### **Desde la Consola AWS**  
1Ô∏è‚É£ Ir a **VPC** ‚Üí **Grupos de Seguridad** ‚Üí **Crear Grupo de Seguridad**  
2Ô∏è‚É£ **Nombre**: `SG-WebServer`  
3Ô∏è‚É£ **Seleccionar VPC (MiVPC)**  
4Ô∏è‚É£ **Reglas Entrantes**:  
   - **Permitir tr√°fico HTTP (80)**:  
     - Tipo: HTTP  
     - Protocolo: TCP  
     - Puerto: 80  
     - Origen: `0.0.0.0/0`  
   - **Permitir tr√°fico SSH (22)** _(solo si necesitas administrar el servidor)_  
     - Tipo: SSH  
     - Protocolo: TCP  
     - Puerto: 22  
     - Origen: `Tu IP` (`X.X.X.X/32`)  

### **Desde AWS CLI**  
```sh
SG_ID=$(aws ec2 create-security-group --group-name SG-WebServer --description "Grupo de Seguridad para Web" --vpc-id $VPC_ID --query "GroupId" --output text)

# Permitir HTTP (80)
aws ec2 authorize-security-group-ingress --group-id $SG_ID --protocol tcp --port 80 --cidr 0.0.0.0/0

# Permitir SSH (22) - Cambia "X.X.X.X/32" por tu IP
aws ec2 authorize-security-group-ingress --group-id $SG_ID --protocol tcp --port 22 --cidr X.X.X.X/32
```

### **üìå Paso 4: Crear una Instancia EC2 (Opcional)**
Si quieres probar la conectividad, puedes lanzar una instancia EC2 en la **Subred P√∫blica** con el **Grupo de Seguridad** creado.

```sh
aws ec2 run-instances --image-id ami-0abcdef1234567890 --count 1 --instance-type t2.micro --subnet-id $SUBNET_ID --security-group-ids $SG_ID --key-name MiClave --tag-specifications 'ResourceType=instance,Tags=[{Key=Name,Value=ServidorWeb}]'
```

### **üéØ Conclusi√≥n**
‚úÖ Ya tienes tu VPC configurada con una subred p√∫blica conectada a Internet.  
‚úÖ Puedes lanzar servidores en la **Subred P√∫blica** con acceso a Internet.  
‚úÖ Si necesitas una **Subred Privada**, puedes crear una con un **NAT Gateway**.

### Resumen

Una vez que [creamos nuestra VPC y el Internet Gateway y los conectamos](https://platzi.com/clases/2733-aws-redes/49130-crear-la-vpc-y-crear-el-internet-gateway/ "creamos nuestra VPC y el Internet Gateway y los conectamos"), procedemos a crear la **tabla de enrutamiento**, las **listas de acceso de control** y **las subredes**.

### Pasos para crear la tabla de enrutamiento

1. Desde la [p√°gina del servicio de VPC](https://console.aws.amazon.com/vpc/home "p√°gina del servicio de VPC"), nos dirigimos a ‚Äú**Tablas de ruteo**‚Äù.
2. Notamos que ya existe una tabla de ruteo asociada a nuestra VPC, que se cre√≥ autom√°ticamente junto con la VPC.
3. La seleccionamos, nos dirigimos a la secci√≥n de rutas, y hacemos clic en ‚Äú**Editar rutas**‚Äù.

![Editar rutas](images/Editar_rutas.png)

4. Hacemos clic en ‚Äú**Agregar ruta**‚Äù, colocamos **0.0.0.0/0** y ‚Äú**Puerta de enlace de internet**‚Äù, y seleccionamos el [Internet Gateway](https://platzi.com/clases/2733-aws-redes/49130-crear-la-vpc-y-crear-el-internet-gateway/ "Internet Gateway") que creamos en la clase pasada.
5. Le damos en ‚Äú**Guardar cambios**‚Äù. De esta manera, todo el mundo podr√° acceder a nuestra VPC mediante el Internet Gateway.

![Agregar ruta](images/Agregar_ruta.png)

### Pasos para crear Access Control List

1. En el apartado de ‚Äú**Seguridad**‚Äù del servicio de VPC, nos dirigimos a ‚Äú**ACL de red**‚Äù.
2. Le damos clic a ‚Äú**Crear ACL de red**‚Äù. Crearemos dos ACL de red, uno para cada subred. Le damos los nombres **NACLA** y **NACLB**, y en VPC escogemos nuestra VPC.
3. Le damos clic en ‚Äú**Crear ACL de red**‚Äù.

![Crear ACL de red](images/Crear_ACL_de_red.png)

### Pasos para a√±adir una regla de entrada y una de salida

Ahora, para cada ACL de red creado debemos a√±adir una regla de entrada y una de salida, con el fin de permitir el tr√°fico HTTP en el puerto 80. Para esto:

1. Seleccionamos una ACL de red
2. Nos vamos a ‚Äú**Reglas de entrada**‚Äù -> ‚Äú**Editar reglas de entrada**‚Äù.

![Editar reglas de entrada](Editar_reglas_de_entrada.png)

3. Le damos clic en ‚Äú**A√±adir una nueva regla**‚Äù. Y colocamos los siguientes par√°metros

- **N√∫mero de regla**: 100 (las reglas se eval√∫an comenzando por la regla de n√∫mero m√°s bajo).
- **Tipo**: HTTP (80).
- **Origen**: 0.0.0.0/0.
- **Permitir/denegar**: Permitir.

4. Le damos a ‚Äú**Guardar cambios**‚Äù.
5. Repetimos el proceso con la regla de salida y con el otro ACL (NACLB), colocando los mismos par√°metros anteriores. Ahora solo falta a√±adir estos ACL a nuestras subredes, las cuales crearemos a continuaci√≥n.

![A√±adir una nueva regla de entrada](A√±adir_una_nueva_regla_de_entrada.png)
A√±adir una nueva regla de entrada

### Pasos para crear subredes

1. En la secci√≥n de ‚Äú**Subredes**‚Äù vamos al bot√≥n ‚Äú**Crear subred**‚Äù.
2. Escogemos nuestra VPC, y colocamos los siguientes par√°metros:
- **Nombre de la subred**: DemoSubredA.
- **Zona de dispinibilidad**: la primera que te aparezca en el men√∫ de selecci√≥n, que termine en ‚Äúa‚Äù.
- **Bloque de CIDR IPv4**: 10.0.0.0/25 (asumiendo que tu VPC tiene el bloque de CIDR 10.0.0.0/24)

3. Le damos clic en ‚Äú**Crear subred**‚Äù
4. Repetimos el procedimiento para la otra subred con los siguientes par√°metros:
- **Nombre de la subred**: DemoSubredB.
- **Zona de dispinibilidad**: la segunda que te aparezca en el men√∫ de selecci√≥n, que termine en ‚Äúb‚Äù.
- **Bloque de CIDR IPv4**: 10.0.0.128/25.

![Crear subred](Crear_subred.png)

Ahora solo falta **asociar los ACL que creamos con las subredes**. Para esto simplemente hacemos clic derecho en DemoSubredA y clic en ‚Äú**Editar la asociaci√≥n de ACL de red**‚Äù, y seleccionamos la ACL correspondiente (NACLA). Entonces le damos en Guardar, y repetimos el procedimiento con *DemoSubredB*.

**Recapitulaci√≥n**

Ya creamos todos los componentes de nuestra VPC: el Internet Gateway, la tabla de enrutamiento, las Access Control List y las subredes. Adem√°s, dimos acceso p√∫blico a dichas subredes mediante HTTP en el puerto 80.

## Administraci√≥n y gobernanza con AWS

AWS proporciona un conjunto de servicios para ayudar a administrar y gobernar los recursos en la nube de manera eficiente, segura y escalable. Estos servicios se enfocan en la administraci√≥n de cuentas, costos, cumplimiento, monitoreo y automatizaci√≥n.

### **üìå Principales Servicios de Administraci√≥n y Gobernanza en AWS**  

| Servicio | Descripci√≥n |
|----------|------------|
| **AWS Organizations** | Permite la administraci√≥n centralizada de m√∫ltiples cuentas de AWS. Facilita la aplicaci√≥n de pol√≠ticas y la consolidaci√≥n de facturaci√≥n. |
| **AWS Control Tower** | Automatiza la configuraci√≥n de un entorno multi-cuenta seguro y bien gobernado. |
| **AWS IAM (Identity and Access Management)** | Administra el acceso seguro a los servicios y recursos de AWS con permisos detallados. |
| **AWS Config** | Monitorea y audita la configuraci√≥n de los recursos en AWS para asegurar el cumplimiento normativo. |
| **AWS CloudTrail** | Registra todas las acciones realizadas en la cuenta de AWS para auditor√≠a y seguridad. |
| **AWS CloudWatch** | Proporciona monitoreo en tiempo real de m√©tricas, logs y eventos de los recursos de AWS. |
| **AWS Budgets** | Ayuda a administrar los costos y el uso de AWS con alertas configurables. |
| **AWS Cost Explorer** | Permite visualizar, analizar y optimizar los costos y el uso de AWS. |
| **AWS Service Catalog** | Permite a las empresas administrar y distribuir cat√°logos de productos aprobados en AWS. |
| **AWS Systems Manager** | Facilita la administraci√≥n y automatizaci√≥n de recursos a gran escala. |
| **AWS Trusted Advisor** | Proporciona recomendaciones para optimizar costos, rendimiento, seguridad y tolerancia a fallos. |

### **üìå Casos de Uso de Administraci√≥n y Gobernanza en AWS**  

### **1Ô∏è‚É£ Gesti√≥n Centralizada de Cuentas**

- **AWS Organizations** permite agrupar cuentas bajo una jerarqu√≠a.  
- Se pueden aplicar pol√≠ticas a nivel de organizaci√≥n para restringir permisos.  

### **2Ô∏è‚É£ Monitoreo y Cumplimiento**

- **AWS Config** verifica si los recursos cumplen con est√°ndares establecidos.  
- **AWS CloudTrail** rastrea acciones y cambios en la cuenta.  

### **3Ô∏è‚É£ Optimizaci√≥n de Costos**

- **AWS Budgets** alerta cuando los costos superan un l√≠mite definido.  
- **AWS Cost Explorer** ayuda a identificar oportunidades de ahorro.  

### **4Ô∏è‚É£ Seguridad y Control de Acceso**

- **AWS IAM** permite administrar permisos detallados.  
- **AWS Trusted Advisor** revisa configuraciones para mejorar la seguridad.  

### **5Ô∏è‚É£ Automatizaci√≥n de Administraci√≥n**

- **AWS Systems Manager** facilita la ejecuci√≥n de comandos en m√∫ltiples instancias EC2.  
- **AWS Service Catalog** define productos est√°ndar para los equipos de TI.

### **üìå Conclusi√≥n**  
AWS ofrece herramientas robustas para administrar y gobernar la nube con eficiencia, seguridad y control de costos. Implementar estos servicios permite optimizar la infraestructura y garantizar el cumplimiento normativo.

### Resumen

En el pasado, las empresas u organizaciones ten√≠an que lograr un equilibrio entre innovar y mantener un control de los costos, la seguridad y el cumplimiento. Los servicios de administraci√≥n y gobernanza de AWS sirven para simplificar este equilibrio. Estos servicios buscan que la administraci√≥n de AWS sea lo m√°s f√°cil y optimizada posible.

### Administraci√≥n de cuentas

Entre los servicios que nos ayudan a administrar nuestras cuentas de AWS tenemos:

- **AWS Control Tower**: una manera f√°cil de configurar y gobernar un entorno seguro de AWS de m√∫ltiples cuentas
- **AWS Organizations**: nos brinda una forma de gobernar, de administrar de manera centralizada nuestros entornos en varias cuentas de AWS
- **AWS Budgets**: nos ayuda a planificar y realizar control de costos

### Servicios de aprovisionamiento

Estos servicios facilitan el aprovisionamiento o la creaci√≥n y configuraci√≥n de nuevos recursos de AWS:

- **AWS CloudFormation**: permite modelar y aprovisionar todos sus recursos mediante c√≥digo
- **AWS OpsWorks**: ayuda a automatizar todas las operaciones con Chef y Puppet
- **AWS Service Catalog**: un servicio para crear, organizar y gobernar nuestro propio cat√°logo curado de productos de AWS en toda nuestra organizaci√≥n
- **Marketplace**: es donde vamos a poder encontrar, probar e implementar software que se ejecuta en AWS

### Servicios para operar el entorno AWS

Estos servicios nos ayudan a operar nuestro entorno de AWS

- **Amazon CloudWatch**: permite observar nuestros servicios a trav√©s de m√©tricas y registros
- **Amazon Config**: permite registrar y evaluar las configuraciones de nuestros recursos en AWS
- **AWS CloudTrail**: rastrea toda la actividad del usuario de la cuenta de AWS. Esto es importante en investigaciones de seguridad
- **Systems Manager**: optimiza el rendimiento y la seguridad mientras administramos una gran cantidad de sistemas
Amazon X-Ray: analiza y depura aplicaciones en producci√≥n.

## Qu√© es CloudFormation y cu√°les son sus beneficios

**AWS CloudFormation** es un servicio de AWS que permite modelar, aprovisionar y gestionar la infraestructura de AWS como c√≥digo (IaC - Infrastructure as Code). Con CloudFormation, puedes definir los recursos en archivos de texto utilizando **YAML o JSON** y desplegarlos de manera automatizada.

### **üìå Beneficios de AWS CloudFormation**  

| Beneficio | Descripci√≥n |
|-----------|------------|
| **Infraestructura como C√≥digo (IaC)** | Permite definir y administrar recursos de AWS mediante archivos YAML o JSON. |
| **Automatizaci√≥n** | Despliega y gestiona recursos de manera automatizada, reduciendo errores manuales. |
| **Reutilizaci√≥n y Consistencia** | Usa plantillas predefinidas para garantizar configuraciones estandarizadas en m√∫ltiples entornos. |
| **Escalabilidad** | Facilita la administraci√≥n de infraestructuras grandes y complejas con un solo archivo de plantilla. |
| **Gesti√≥n del Ciclo de Vida** | Permite actualizar, modificar y eliminar recursos de forma controlada mediante pilas (stacks). |
| **Integraci√≥n con otros servicios de AWS** | Compatible con **AWS Lambda, AWS IAM, Amazon EC2, Amazon RDS**, entre otros. |
| **Sin costo adicional** | Solo pagas por los recursos que CloudFormation despliega, no por el servicio en s√≠. |

### **üìå ¬øC√≥mo funciona AWS CloudFormation?**

1. **Crear una plantilla** en **YAML o JSON** que defina los recursos a desplegar.  
2. **Subir la plantilla a CloudFormation** y crear una **pila (stack)**.  
3. **CloudFormation aprovisiona los recursos** seg√∫n la plantilla.  
4. **Administrar la pila** para actualizar o eliminar recursos cuando sea necesario.

### **üìå Ejemplo de Plantilla en YAML**

Esta plantilla crea una instancia EC2 simple en AWS:

```yaml
AWSTemplateFormatVersion: '2010-09-09'
Resources:
  MiInstanciaEC2:
    Type: AWS::EC2::Instance
    Properties:
      InstanceType: t2.micro
      ImageId: ami-0abcdef1234567890  # Reemplazar con una AMI v√°lida
```

### **üìå Casos de Uso**

- **Implementaci√≥n automatizada de infraestructuras** en entornos de desarrollo, pruebas y producci√≥n.  
- **Configuraci√≥n de entornos multi-regi√≥n** de manera r√°pida y consistente.  
- **Automatizaci√≥n del despliegue de aplicaciones** junto con la infraestructura necesaria.  
- **Administraci√≥n de permisos y pol√≠ticas de seguridad** en m√∫ltiples cuentas de AWS.

### **üìå Conclusi√≥n**  
AWS CloudFormation simplifica la administraci√≥n de la infraestructura al permitir su gesti√≥n como c√≥digo. Esto mejora la eficiencia, reduce errores manuales y garantiza consistencia en los despliegues.

### Resumen

**CloudFormation** es un servicio que permite provisionar servicios como m√°quinas virtuales o VPCs mediante c√≥digo. Para esto se usan las *CloudFormation Templates*, que son plantillas en donde especificamos los recursos que queremos desplegar. Estas plantillas pueden estar en formato *JSON* o *YAML*, y en ellas se define un [stack](https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/stacks.html "stack") o pila de recursos a provisionar.

### Beneficios de CloudFormation

¬øPor qu√© es √∫til desplegar infraestructura y recursos basados en una plantilla de CloudFormation? Porque ofrece las siguientes ventajas.

### Control de versiones

Ya que podemos definir los recursos que queremos desplegar mediante c√≥digo, este c√≥digo lo podemos mantener en un sistema de control de versiones como Git y GitHub. **Esto permite tener un historial completo de nuestros recursos en un solo archivo, as√≠ como la colaboraci√≥n en el despliegue de la infraestructura**.

### Automatizaci√≥n

CloudFormation permite a los encargados de [DevOps](https://platzi.com/clases/1526-gitlab/19272-que-es-devops/ "DevOps") automatizar la creaci√≥n de infraestructura y recursos en AWS.

### Escala

Gracias a las plantillas podemos replicar la infraestructura en distintas cuentas de AWS y en distintas regiones. Solo debemos ajustar ciertos par√°metros.

## Qu√© es Cloudwatch

**Amazon CloudWatch** es un servicio de monitoreo y observabilidad de AWS que permite recopilar y analizar m√©tricas, logs y eventos de los recursos en la nube. Es √∫til para supervisar aplicaciones, optimizar el rendimiento, detectar anomal√≠as y configurar alertas automatizadas. 

### **üìå Beneficios de AWS CloudWatch**  

| Beneficio | Descripci√≥n |
|-----------|------------|
| **Monitoreo en tiempo real** | Recopila m√©tricas de CPU, memoria, tr√°fico de red y m√°s. |
| **Gesti√≥n centralizada de logs** | Agrega, filtra y analiza registros de aplicaciones y sistemas. |
| **Alertas y notificaciones** | Configura alarmas con **Amazon SNS** para recibir notificaciones. |
| **Dashboards personalizables** | Visualiza datos en paneles gr√°ficos en tiempo real. |
| **Automatizaci√≥n con AWS Lambda** | Ejecuta funciones en respuesta a eventos. |
| **Optimizaci√≥n de costos** | Identifica patrones de uso para reducir gastos. |

### **üìå ¬øC√≥mo funciona AWS CloudWatch?**  

1. **Recopila m√©tricas** de servicios como **EC2, S3, RDS, Lambda**, entre otros.  
2. **Almacena y visualiza datos** en dashboards personalizados.  
3. **Crea alarmas** para eventos cr√≠ticos y env√≠a notificaciones.  
4. **Automatiza respuestas** con AWS Lambda o Auto Scaling.  
5. **Analiza logs** con **CloudWatch Logs Insights**.

### **üìå Principales Componentes de CloudWatch**  

### **1Ô∏è‚É£ CloudWatch Metrics** üìä

- Registra m√©tricas de recursos de AWS.  
- Permite configurar alarmas en funci√≥n de umbrales definidos.  

### **2Ô∏è‚É£ CloudWatch Logs** üìú

- Recopila logs de **EC2, Lambda, API Gateway, VPC Flow Logs** y m√°s.  
- Permite consultas avanzadas con **Logs Insights**.  

### **3Ô∏è‚É£ CloudWatch Alarms** üö®

- Genera alertas cuando una m√©trica supera un umbral predefinido.  
- Puede activar acciones como notificaciones **SNS** o ejecuci√≥n de **Lambda**.  

### **4Ô∏è‚É£ CloudWatch Events (EventBridge)** ‚è≥

- Responde a eventos de AWS en tiempo real.  
- Integra con **Lambda, SNS, Step Functions** y otros servicios.

### **üìå Ejemplo de Uso: Configurar una Alarma en CloudWatch**  

Supongamos que quieres recibir una alerta si el uso de CPU en una instancia EC2 supera el **80%**.  

1Ô∏è‚É£ Ve a la consola de **CloudWatch** en AWS.  
2Ô∏è‚É£ Entra en **Alarmas ‚Üí Crear alarma**.  
3Ô∏è‚É£ Selecciona la m√©trica: **EC2 ‚Üí Uso de CPU**.  
4Ô∏è‚É£ Configura el umbral: **mayor al 80%**.  
5Ô∏è‚É£ Define la acci√≥n: **Enviar notificaci√≥n a SNS (correo o SMS)**.  
6Ô∏è‚É£ Guarda la alarma y monitorea el comportamiento.

### **üìå Casos de Uso**

‚úÖ **Monitoreo de aplicaciones**: Detecta errores o ca√≠das en servicios.  
‚úÖ **Optimizaci√≥n de costos**: Identifica recursos inactivos o sobredimensionados.  
‚úÖ **Automatizaci√≥n de respuestas**: Escala instancias EC2 autom√°ticamente seg√∫n demanda.  
‚úÖ **Seguridad y cumplimiento**: Detecta accesos no autorizados o tr√°fico inusual.

### **üìå Conclusi√≥n**  
AWS CloudWatch es una herramienta clave para la observabilidad en AWS. Permite **monitorear, alertar y automatizar** respuestas ante eventos en la nube.

### Resumen

**CloudWatch es un servicio de supervision y observabilidad para AWS. Est√° dise√±ado para que podamos ver todo lo que sucede dentro de nuestra cuenta de AWS**. En este sentido, CloudWatch ofrece la posibilidad de:

- Recopilar m√©tricas o datos de sus servicios
- Integrar con unos 80 servicios de AWS
- Tener m√©tricas predefinidas
- Recopilar y desplegar datos en una vista unificada con distintos gr√°ficos.
- Configurar de alarmas de acuerdo a los graficos que nos muestre cloudWaatch
- Enviar archivos de registro y buscar de forma interactiva datos de registros. Posee un almac√©n de registros centralizado. Esto nos ayuda a encontrar y resolver problemas de manera eficaz.

### Caso de uso de CloudWatch

Imag√≠nate que tienes una m√°quina virtual a la cual se accede mediante SSH. Si queremos saber cuando alguien intenta piratear nuestra m√°quina virtual con SSH, **podemos enviar los logs de inicio de sesi√≥n a CloudWatch**.

Mediante CloudWatch, **podemos usar un filtro para visualizar el n√∫mero de intentos de sesi√≥n fallidos**. Adem√°s, podemos configurar una alerta en el caso de que los intentos fallidos superen cierto l√≠mite en un periodo espec√≠fico de tiempo.

## C√≥mo aplicar autoescalamiento

### **üìå Autoescalamiento en AWS (Auto Scaling)**

El **Auto Scaling** en AWS permite aumentar o reducir autom√°ticamente los recursos inform√°ticos en funci√≥n de la demanda. Esto ayuda a optimizar el rendimiento y los costos, asegurando que siempre haya suficiente capacidad disponible sin desperdiciar recursos.

### **üìå Servicios que Soportan Auto Scaling**

‚úÖ **Amazon EC2 Auto Scaling** (para instancias EC2).  
‚úÖ **AWS Fargate Auto Scaling** (para contenedores en ECS/EKS).  
‚úÖ **Amazon DynamoDB Auto Scaling** (para bases de datos NoSQL).  
‚úÖ **Amazon Aurora Auto Scaling** (para bases de datos relacionales).

### **üìå Tipos de Autoescalamiento**

1Ô∏è‚É£ **Escalado Vertical** ‚¨ÜÔ∏è‚¨áÔ∏è

   - Cambia el tipo de instancia (m√°s CPU, RAM, etc.).
   - Se hace manualmente, no autom√°tico.

2Ô∏è‚É£ **Escalado Horizontal** ‚û°Ô∏è‚¨ÖÔ∏è

   - A√±ade o elimina instancias seg√∫n la demanda.
   - Se logra con **Amazon EC2 Auto Scaling**.

### **üìå Pasos para Configurar Auto Scaling en EC2**

### **1Ô∏è‚É£ Crear un Grupo de Auto Scaling**

1. Ve a la consola de AWS y accede a **EC2 Auto Scaling**.
2. Clic en **"Crear grupo de Auto Scaling"**.
3. **Selecciona una plantilla de lanzamiento** (AMI, tipo de instancia, etc.).
4. Configura la cantidad m√≠nima, m√°xima y deseada de instancias.
5. Asigna una **pol√≠tica de escalado** (opcional por ahora).

### **2Ô∏è‚É£ Configurar una Pol√≠tica de Escalado**
1. Ve a **Grupos de Auto Scaling** y selecciona tu grupo.
2. En **"Escalado"**, elige "A√±adir una pol√≠tica de escalado".
3. Define la m√©trica a monitorear (ejemplo: uso de CPU).
4. Configura reglas:
   - **Aumentar instancias** si CPU > **80%**.
   - **Disminuir instancias** si CPU < **30%**.
5. Guarda la configuraci√≥n.

### **3Ô∏è‚É£ Asociar un Balanceador de Carga (opcional pero recomendado)**
1. Ve a **Elastic Load Balancer (ELB)** en AWS.
2. Crea un **Application Load Balancer** y config√∫ralo con una zona de disponibilidad.
3. En **Auto Scaling**, enlaza el grupo con el balanceador de carga.
4. AWS distribuir√° el tr√°fico autom√°ticamente entre instancias activas.

### **üìå Beneficios del Auto Scaling**

‚úÖ **Alta disponibilidad**: Mantiene suficientes instancias activas seg√∫n la demanda.  
‚úÖ **Optimizaci√≥n de costos**: Reduce instancias cuando la carga es baja.  
‚úÖ **Flexibilidad**: Se adapta autom√°ticamente a picos de tr√°fico.  
‚úÖ **Menos intervenci√≥n manual**: Reduce la necesidad de ajustes manuales.

### **üìå Ejemplo de Pol√≠tica de Escalado Basado en CloudWatch**

Supongamos que queremos escalar si el uso de CPU supera el **80%**:

1. En **CloudWatch ‚Üí Alarmas**, crea una nueva alarma.
2. Elige la m√©trica **EC2 ‚Üí CPUUtilization**.
3. Configura el umbral **CPU > 80%**.
4. En **Acciones**, selecciona **Auto Scaling Group ‚Üí Aumentar tama√±o**.
5. Guarda la configuraci√≥n.

De manera similar, puedes crear otra pol√≠tica para reducir instancias cuando el uso sea bajo.

### **üìå Conclusi√≥n**
Auto Scaling en AWS es una herramienta poderosa para administrar cargas de trabajo de manera eficiente. Permite ajustar los recursos autom√°ticamente, mejorando la disponibilidad y optimizando costos.

### Resumen

El auto escalamiento (autoscaling) nos permite escalar la capacidad de nuestras instancias de m√°quinas virtuales autom√°ticamente, de acuerdo con nuestras condiciones definidas.

**Podemos aumentar la cantidad de instancias que tenemos en ejecuci√≥n durante los picos de demanda y disminuirlos cuando no los necesitemos**. Esto trae una alta disponibilidad, tolerancia a fallos y un ahorro de costos.

### Pasos para aplicar autoescalamiento

1. Para aprovechar el autoescalamiento, debemos crear un grupo de auto escalamiento que asocie nuestras instancias.
2. En este grupo especificaremos un tama√±o m√≠nimo (el n√∫mero m√≠nimo de instancias a correr), y una capacidad deseada (el n√∫mero √≥ptimo de instancias en funci√≥n de las necesidades).
3. Entonces se agregar√°n m√°s instancias seg√∫n sea necesario hasta alcanzar un m√°ximo.

Cabe destacar que el Load Balancer de AWS es lo que permite distribuir automaticamente las conexiones a medida que aparecen y desaparecen estos servidores.

Nota: EC2 no es el √∫nico servicio que tiene auto escalamiento. DynamoDB y Aurora tambi√©n implementan este concepto.

## Laboratorio: empezando con CloudFormation

CloudFormation es un servicio de AWS que permite modelar y aprovisionar recursos de infraestructura en la nube utilizando archivos de configuraci√≥n en formato YAML o JSON. Un laboratorio b√°sico para empezar con CloudFormation incluir√≠a los siguientes pasos:

### **1. Crear un Stack B√°sico en CloudFormation**
Para empezar, se puede desplegar una infraestructura simple en AWS, como un bucket de S3.

#### **Paso 1: Crear el archivo de la plantilla (YAML)**
Crea un archivo llamado `s3-bucket.yaml` con el siguiente contenido:

```yaml
AWSTemplateFormatVersion: '2010-09-09'
Resources:
  MyS3Bucket:
    Type: AWS::S3::Bucket
    Properties:
      BucketName: my-cloudformation-lab-bucket
```

#### **Paso 2: Subir la Plantilla a CloudFormation**
1. Accede a la consola de AWS y ve a **CloudFormation**.
2. Haz clic en **Create Stack** > **With new resources (standard)**.
3. Selecciona **Upload a template file** y sube `s3-bucket.yaml`.
4. Asigna un nombre a tu Stack, como `MyFirstStack`.
5. Haz clic en **Next**, luego en **Next** nuevamente sin cambiar configuraciones adicionales.
6. En la pantalla de revisi√≥n, haz clic en **Create stack**.

#### **Paso 3: Verificar la Creaci√≥n**
- Una vez que el Stack se haya creado con √©xito, ve a **S3** en la consola de AWS y verifica que el bucket `my-cloudformation-lab-bucket` ha sido creado.

### **2. Eliminar el Stack**
Para limpiar los recursos creados:
1. Ve a la consola de CloudFormation.
2. Selecciona el Stack `MyFirstStack`.
3. Haz clic en **Delete**.

### **Conceptos Claves en CloudFormation**
- **Plantilla**: Define la infraestructura a desplegar.
- **Stack**: Es una instancia de la plantilla en AWS.
- **Recursos**: Son los componentes creados por CloudFormation (S3, EC2, RDS, etc.).
- **Par√°metros**: Permiten personalizar la plantilla sin modificar el c√≥digo.
- **Salidas**: Valores generados al ejecutar el Stack.

Este laboratorio es un buen punto de partida para entender c√≥mo funciona CloudFormation. A partir de aqu√≠, puedes experimentar con otros recursos como EC2, RDS o VPC. üöÄ

### Resumen

CloudFormation nos permite provisionar infraestructura como c√≥digo. Para poner a prueba CloudFormation, mediante una **plantilla vamos a crear un stack a partir del cual se desplegar√° un bucket de [S3](https://platzi.com/clases/2732-aws-computo/47018-s3-y-s3-glacier/ "S3")**. Luego, actualizaremos el stack a√±adiendo otro bucket de S3, y finalmente lo eliminaremos.

![Diagrama de stack de CloudFormation](images/DiagramadestackdeCloudFormation.png)

### Entendiendo la plantilla

En [este repositorio](https://github.com/platzi/aws-cloud-practitioner/tree/main/lab-cloudformation "este repositorio") encontrar√°s la plantilla de CloudFormation que usaremos. La plantilla tiene la siguiente estructura JSON (recuerda, CloudFormation acepta formato JSON o YAML):

```json
{
  "AWSTemplateFormatVersion": "2010-09-09",
  "Description": "this template does XXXX",
  "Metadata": {},
  "Parameters": {},
  "Mappings": {},
  "Conditions": {},
  "Transform": {},
  "Resources": {},
  "Outputs": {}
}
```

Estos par√°metros corresponden a lo siguiente:

- **AWSTemplateFormatVersion**: este par√°metro es opcional. Aqu√≠ especificamos la versi√≥n de la plantilla
- **Description**: cadena de texto que describe la plantilla. Debe ir despu√©s de *AWSTemplateFormatVersion*
- **Metadata**: objetos que proporcionan informaci√≥n adicional sobre la plantilla
- **Parameters**: valores que pasaremos a la plantilla al ejecutarse, ya sea durante la creaci√≥n o actualizaci√≥n del *stack*
- **Mappings**: permite asignar un conjunto de valores a una clave espec√≠fica. Por ejemplo, para establecer valores en funci√≥n de una regi√≥n, podemos crear un *mapping* que usa el nombre de una regi√≥n como clave y contiene los valores que deseemos especificar para cada regi√≥n
- **Conditions**: controla que se creen recursos o se asignen valores a dichos recursos en funci√≥n de una condici√≥n. Por ejemplo, podemos asignar valores distintos para entornos de producci√≥n o de prueba
- **Transform**: especifica las [macros](https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/template-macros.html "macros") que AWS CloudFormation usa para procesar la plantilla
- **Resources**: aqu√≠ se declaran los recursos a incluir en el stack. Por ejemplo, instancias EC2 o *buckets* de S3.
- **Outputs**: declara valores de salida que pueden ser usados en otros stacks

### Pasos para crear el stack

1. Nos dirigimos a la [p√°gina de CloudFormation](https://console.aws.amazon.com/cloudformation/home "p√°gina de CloudFormation") desde nuestra cuenta de AWS (en esta p√°gina podremos conocer m√°s sobre el servicio en cuesti√≥n).
2. Aqu√≠ le damos a ‚Äú**Crear stack**‚Äù.
3. Para crear el stack, en ‚ÄúEspecificar plantilla‚Äù seleccionamos ‚Äú**Cargar un archivo de plantilla**‚Äù, y cargamos el archivo [createstack.json](https://github.com/platzi/aws-cloud-practitioner/blob/main/lab-cloudformation/createstack.json "createstack.json"). Este archivo simplemente define un bucket de S3 llamado ‚Äúplatzilab‚Äù.
```json
{
  "Resources": {
    "platzilab": {
      "Type": "AWS::S3::Bucket"
    }
  }
}
```

![Subir plantilla](images/Subirplantilla.png)

4. Le damos clic a siguiente y, a continuaci√≥n, escogemos un nombre para el *stack* o pila. En este caso, la llamamos **cfnlab**, y le damos a siguiente.
5. Opcionalmente, podemos a√±adir etiquetas para identificar la pila, y un rol de IAM.
6. Dejamos el resto de configuraciones por defecto y le damos a siguiente. Entonces nos llevar√° a revisar las configuraciones, y le damos a ‚Äú**Crear pila**‚Äù.
7. Podremos ver el proceso de creaci√≥n de la pila, los eventos y los recursos que fueron creados. Si te fijas en el nombre del bucket creado, **ver√°s que este est√° compuesto por el nombre de la pila, el nombre que le asignamos al bucket en la plantilla, y una cadena de texto aleatoria**. Esto es para evitar crear recursos con nombre duplicados.

![Pila y bucket creados](images/Pilaybucketcreados.png)

**Lecturas recomendadas**

[https://us-east-1.console.aws.amazon.com/](https://us-east-1.console.aws.amazon.com/)

[aws-cloud-practitioner/lab-cloudformation at main ¬∑ platzi/aws-cloud-practitioner ¬∑ GitHub](https://github.com/platzi/aws-cloud-practitioner/tree/main/lab-cloudformation)

## Laboratorio: actualizando y eliminando la stack

En este laboratorio, aprender√°s a actualizar y eliminar una **Stack** en AWS CloudFormation.  

### **1. Crear la Stack Inicial**  
Si no tienes una Stack creada, sigue el laboratorio anterior para desplegar un **Bucket de S3** con la siguiente plantilla (`s3-bucket.yaml`):  

```yaml
AWSTemplateFormatVersion: '2010-09-09'
Resources:
  MyS3Bucket:
    Type: AWS::S3::Bucket
    Properties:
      BucketName: my-cloudformation-lab-bucket
```

Sigue los pasos mencionados en el laboratorio anterior para crear la Stack en AWS CloudFormation.

## **2. Actualizar la Stack**  
Vamos a modificar la Stack para agregar una **pol√≠tica de acceso p√∫blico restringido** al Bucket de S3.  

### **Paso 1: Crear una Nueva Versi√≥n de la Plantilla**
Crea un nuevo archivo llamado `s3-bucket-updated.yaml` con el siguiente contenido:  

```yaml
AWSTemplateFormatVersion: '2010-09-09'
Resources:
  MyS3Bucket:
    Type: AWS::S3::Bucket
    Properties:
      BucketName: my-cloudformation-lab-bucket
      PublicAccessBlockConfiguration:
        BlockPublicAcls: true
        BlockPublicPolicy: true
        IgnorePublicAcls: true
        RestrictPublicBuckets: true
```

### **Paso 2: Aplicar la Actualizaci√≥n en AWS CloudFormation**
1. Ve a la **consola de AWS CloudFormation**.
2. Selecciona la Stack que creaste (`MyFirstStack`).
3. Haz clic en **Update**.
4. Selecciona **Replace current template**, y luego **Upload a template file**.
5. Sube el archivo `s3-bucket-updated.yaml`.
6. Haz clic en **Next** y revisa los cambios.
7. Haz clic en **Update Stack**.

üìù **Nota**: Si el cambio no se puede aplicar directamente, es posible que CloudFormation realice una **recreaci√≥n del recurso** en lugar de una actualizaci√≥n.

### **3. Eliminar la Stack**  
Si deseas eliminar la infraestructura creada por la Stack, sigue estos pasos:

1. Ve a la **consola de AWS CloudFormation**.
2. Selecciona la Stack (`MyFirstStack`).
3. Haz clic en **Delete**.
4. Confirma la eliminaci√≥n.

‚è≥ **Espera unos minutos mientras AWS elimina todos los recursos.**

## **Conclusi√≥n**  
‚úÖ Aprendiste c√≥mo:  
‚úîÔ∏è Crear una Stack en CloudFormation.  
‚úîÔ∏è Actualizar una Stack para modificar su configuraci√≥n.  
‚úîÔ∏è Eliminar una Stack para liberar recursos.  

Este es un flujo b√°sico, pero puedes seguir explorando con **par√°metros, salidas y dependencias** en CloudFormation. üöÄ

### Resumen

Ahora que creamos nuestra pila de CloudFormation, procederemos a actualizarla a√±adiendo otro bucket de S3. Despu√©s, veremos c√≥mo eliminar la pila.

### Pasos para actualizar la pila

1. Para actualizar la pila primero usaremos el archivo [updatestack1.json](https://github.com/platzi/aws-cloud-practitioner/blob/main/lab-cloudformation/updatestack1.json "updatestack1.json"). El contenido de este archivo es el siguiente:
```json
{
  "Resources": {
    "platzilab": {
      "Type": "AWS::S3::Bucket"
    },
    "platzilabalexis": {
      "Type": "AWS::S3::Bucket"
    }
  }
}
```

Como podr√°s notar, definimos el mismo bucket que en la clase anterior, m√°s un nuevo bucket con ID l√≥gico ‚Äúplatzilabelalexis‚Äù.

2. Ahora, en la p√°gina de CloudFormation, escogemos la pila que creamos y le damos a ‚Äú**Actualizar**‚Äù.

[Escoger la pila](images/Escogerlapila.png)

3. En ‚ÄúPreparar la plantilla‚Äù escogemos ‚Äú**Reemplazar la plantilla actual**‚Äù y cargamos el archivo **updatestack1.json**.

4. Le damos a Siguiente tres veces, y notamos que en ‚ÄúVista previa del conjunto de cambios‚Äù nos muestra que solo va a a√±adir un nuevo bucket de S3, **puesto que el bucket con ID l√≥gico ‚Äúplatzilab‚Äù ya existe**. Entonces le damos a ‚Äú**Actualizar pila**‚Äù.

[Vista previa de cambios](images/Vistapreviadecambios.png)

Si nos vamos a ver nuestros buckets de S3, encontraremos que se ha creado uno nuevo cuyo nombre incluye ‚Äúplatzilabalexis‚Äù.

### Crear una pila con un nombre de bucket expl√≠cito

Podemos crear otra pila d√°ndole un nombre expl√≠cito a los buckets que queremos provisionar. Para ello, usemos el archivo [updatestack2.json](https://github.com/platzi/aws-cloud-practitioner/blob/main/lab-cloudformation/updatestack2.json "updatestack2.json").

```json
{
  "Resources": {
    "platzilab": {
      "Type": "AWS::S3::Bucket",
      "Properties": {
        "BucketName": "mibucket123"
      }
    },
    "platzilabalexis  ": {
      "Type": "AWS::S3::Bucket"
    }
  }
}
```

Nota que en este caso el bucket con ID l√≥gico ‚Äúplatzilab‚Äù tiene en sus propiedades el nombre de bucket ‚Äúmibucket123‚Äù. Este nombre debe ser √∫nico en todo *AWS*. **Si intentamos crear la pila con un bucket con nombre repetido, tendremos un error y no se crear√° la pila**.

### C√≥mo eliminar las pilas

Para ello simplemente seleccionamos una pila y le damos a ‚Äú**Eliminar**‚Äù. Nos va a pedir confirmaci√≥n, entonces le damos a ‚Äú**Eliminar pila**‚Äù. Repetimos el proceso para todas las pilas. Si exploramos nuestros buckets de S3, veremos que ya no est√°n los que creamos con CloudFormation.

**Lecturas recomendadas**

[aws-cloud-practitioner/lab-cloudformation at main ¬∑ platzi/aws-cloud-practitioner ¬∑ GitHub](https://github.com/platzi/aws-cloud-practitioner/tree/main/lab-cloudformation "aws-cloud-practitioner/lab-cloudformation at main ¬∑ platzi/aws-cloud-practitioner ¬∑ GitHub")

## Empezando con Machine Learning

Machine Learning (ML) es una rama de la inteligencia artificial que permite a las computadoras aprender de los datos sin ser programadas expl√≠citamente. Se basa en algoritmos que identifican patrones y hacen predicciones o decisiones autom√°ticamente.

### **üìå Tipos de Machine Learning**
Existen tres categor√≠as principales:

1Ô∏è‚É£ **Aprendizaje Supervisado** üéØ  
   - Se entrena con datos etiquetados (entrada y salida esperada).  
   - Ejemplo: Clasificaci√≥n de correos electr√≥nicos como spam o no spam.  
   - Algoritmos populares: Regresi√≥n Lineal, Regresi√≥n Log√≠stica, √Årboles de Decisi√≥n, Random Forest, SVM, Redes Neuronales.

2Ô∏è‚É£ **Aprendizaje No Supervisado** üîç  
   - No tiene etiquetas, encuentra patrones ocultos en los datos.  
   - Ejemplo: Agrupar clientes seg√∫n su comportamiento de compra.  
   - Algoritmos populares: K-Means, DBSCAN, PCA, Autoencoders.

3Ô∏è‚É£ **Aprendizaje por Refuerzo** üèÜ  
   - Un agente aprende mediante ensayo y error, obteniendo recompensas.  
   - Ejemplo: Un robot aprendiendo a caminar.  
   - Algoritmos populares: Q-Learning, Deep Q-Networks (DQN), Proximal Policy Optimization (PPO).

### **üìå Flujo de Trabajo en Machine Learning**

1Ô∏è‚É£ **Definir el problema**  
   - ¬øQu√© queremos predecir o clasificar?  

2Ô∏è‚É£ **Recolecci√≥n de datos**  
   - Obtener datos limpios y representativos.  

3Ô∏è‚É£ **Preprocesamiento de datos**  
   - Limpieza, normalizaci√≥n y transformaci√≥n de datos.  

4Ô∏è‚É£ **Selecci√≥n del modelo**  
   - Elegir el algoritmo adecuado seg√∫n el problema.  

5Ô∏è‚É£ **Entrenamiento del modelo**  
   - Alimentar el modelo con datos de entrenamiento.  

6Ô∏è‚É£ **Evaluaci√≥n del modelo**  
   - Usar m√©tricas como precisi√≥n, recall, F1-score, MAE, RMSE.  

7Ô∏è‚É£ **Optimizaci√≥n y ajuste de hiperpar√°metros**  
   - Mejorar el rendimiento ajustando par√°metros.  

8Ô∏è‚É£ **Despliegue del modelo**  
   - Usar el modelo en producci√≥n para hacer predicciones.  

### **üìå Herramientas y Bibliotecas Populares**
üîπ **Python**: Lenguaje m√°s usado en ML.  
üîπ **NumPy y Pandas**: Manipulaci√≥n de datos.  
üîπ **Matplotlib y Seaborn**: Visualizaci√≥n de datos.  
üîπ **Scikit-learn**: Algoritmos de ML cl√°sicos.  
üîπ **TensorFlow y PyTorch**: Redes neuronales y deep learning.  

### **üìå Primer Proyecto en Machine Learning**
Si quieres empezar con un proyecto b√°sico, puedes trabajar con la base de datos **Iris** (clasificaci√≥n de flores) usando **Scikit-learn**.

### Resumen

**El *machine learning* es un tipo de inteligencia artificial donde podemos escribir programas que aprenden de los datos que se le proporcionan**, y ‚Äúrecuerdan‚Äù los resultados de procesar estos datos. Un programa de machine learning aprende al ejecutarse una y otra vez. Esta clase de programas tienen usos en distintas industrias:

- Autom√≥viles autom√°ticos
- Relojes Inteligentes
- Agricultura
- Perfil Financiero
- Correos electr√≥nicos

### Servicios de inteligencia artificial en AWS

Entre los servicios de AWS que usan inteligencia artificial o machine learning encontramos:

- **Amazon Kendra**: provee un sistema de b√∫squeda inteligente a nuestros clientes
- **Amazon Personalize**: brinda recomendaciones personalizadas a nuestros clientes

### Servicios de analisis de m√©tricas comerciales

- **Amazon Lookout for metrics**: detecta autom√°ticamente cambios inesperados en aspectos como el rendimiento de los ingresos y la retenci√≥n de los clientes, ayud√°ndonos a identificar la causas
- **Amazon Forecast**: nos ayuda a crear modelos de pron√≥sticos precisos
- **Amazon Fraud Detector**: identifica actividades en l√≠nea potencialmente fraudulentas

### Servicios de visi√≥n artificial

**Amazon Rekognition permite analizar im√°genes, videos y extraer el significado de estos**. Es uno de los servicios m√°s populares de AWS en cuanto a inteligencia artificial.

### Servicios de idiomas

- **Amazon Polly**: ayuda a convertir el texto en un habla realista
- **Amazon Transcribe**: permite agregar traducciones de voz a texto de calidad
- **Amazon Lex**: permite generar agentes conversacionales o bots de chat