# Curso de Introducci√≥n a AWS C√≥mputo, Almacenamiento y Bases de Datos

## ¬øYa tomaste el curso de Fundamentos de Cloud Computing?

El profesor Enrique Alexis L√≥pez Araujo, Data Architect en Platzi y Cloud Practicioner certificado, nos da la bienvenida al curso.

Antes de empezar, u**na recomendaci√≥n: toma el [Curso de Introducci√≥n a AWS: Fundamentos de Cloud Computing](https://platzi.com/cursos/aws-fundamentos/ "Curso de Introducci√≥n a AWS: Fundamentos de Cloud Computing")**, que te servir√° como base para lo que viene.

En este curso de Introducci√≥n a AWS: C√≥mputo, Almacenamiento y Bases de Datos veremos una introducci√≥n a los servicios de c√≥mputo, almacenamiento y bases de datos en AWS.

### ¬øQu√© m√°s vas a aprender?

Adem√°s de una **introducci√≥n al c√≥mputo, almacenamiento y bases de datos en AWS**, veremos:

- - M√°quinas virtuales, contenedores y computaci√≥n sin servidor en AWS.
- **Almacenamiento en bloques, archivos y objetos**, y los servicios de AWS para cada tipo de almacenamiento.
- Laboratorios de **c√≥mo usar el servicio de almacenamiento de objetos (S3)**.
- **Bases de datos de tipo relacional, de clave-valor y en memoria** en AWS.

**Archivos de la clase**

[curso-de-introduccion-a-aws-computo-almacenamiento-y-bases-de-datos.pdf](https://static.platzi.com/media/public/uploads/curso-de-introduccion-a-aws-computo-almacenamiento-y-bases-de-datos_591b2667-5cc8-478c-aea6-3f08a6d7a74e.pdf)

**Lecturas recomendadas**

[Curso de Fundamentos de AWS Cloud - Platzi](https://platzi.com/cursos/aws-cloud/)

## C√≥mputo en AWS

AWS (Amazon Web Services) ofrece varios servicios de c√≥mputo en la nube que permiten ejecutar aplicaciones de manera escalable y flexible. Algunos de los servicios m√°s importantes son:

### üîπ **Servicios de C√≥mputo en AWS**
1. **Amazon EC2 (Elastic Compute Cloud)**  
   - Servidores virtuales en la nube.  
   - Permite elegir el tipo de instancia, sistema operativo y capacidad de c√≥mputo.  
   - Escalabilidad vertical y horizontal.

2. **AWS Lambda**  
   - Ejecuci√≥n de c√≥digo sin necesidad de gestionar servidores.  
   - Modelo **Serverless**, ideal para eventos y microservicios.  
   - Se paga solo por el tiempo de ejecuci√≥n.

3. **Amazon ECS (Elastic Container Service)**  
   - Administraci√≥n de contenedores Docker.  
   - Compatible con AWS Fargate (sin necesidad de gestionar servidores).  

4. **Amazon EKS (Elastic Kubernetes Service)**  
   - Kubernetes gestionado en AWS.  
   - Facilita la administraci√≥n y escalabilidad de contenedores.  

5. **AWS Fargate**  
   - Servicio sin servidores para ejecutar contenedores en ECS y EKS.  
   - No es necesario administrar infraestructura.  

6. **Amazon Lightsail**  
   - Alternativa m√°s sencilla a EC2 con precios predecibles.  
   - Incluye servidores, almacenamiento y bases de datos en paquetes fijos.  

7. **AWS Batch**  
   - Ejecuci√≥n eficiente de cargas de trabajo por lotes.  
   - Ideal para procesamiento masivo de datos y an√°lisis.  

8. **Amazon Outposts**  
   - Infraestructura de AWS en centros de datos locales.  
   - H√≠brido entre la nube y on-premise.  

### üîπ **Casos de Uso**
‚úÖ **Aplicaciones Web y M√≥viles** ‚Äì EC2, Lambda, Lightsail  
‚úÖ **Big Data y Machine Learning** ‚Äì Batch, EC2 con instancias GPU  
‚úÖ **Microservicios y Serverless** ‚Äì Lambda, ECS, EKS  
‚úÖ **Computaci√≥n de Alto Rendimiento (HPC)** ‚Äì EC2 con instancias especializadas  

Si est√°s aprendiendo sobre AWS, dime en qu√© te gustar√≠a profundizar.

### Resumen

AWS describe su capacidad de c√≥mputo como ‚Äú**c√≥mputo para cualquier carga de trabajo‚Äù. C√≥mputo se refiere a usar una computadora para procesamiento**, ya sea sumar dos n√∫meros o alojar un sitio web. Entre los servicios de c√≥mputo se encuentran:

### Instancias o m√°quinas virtuales

Una **m√°quina virtual** es un software que simula un sistema operativo, y que puede ejecutar programas dentro de dicho sistema como si fuera una computadora real. Los servicios de m√°quinas virtuales (o instancias) en AWS son:

- **Amazon EC2**: m√°quinas virtuales seguras y redimensionables.
- **Amazon EC2 Spot**: cargas de trabajo tolerante a fallas, por hasta el 90% del precio normal (nota: Amazon puede reclamar estas instancias en cualquier momento con solo dos minutos de anticipaci√≥n).
- **Amazon EC2 AutoScaling**: agrega o elimina autom√°ticamente la capacidad inform√°tica para satisfacer tus necesidades bajo demanda.
- **Amazon EC2 LightSail**: plataforma en la nube f√°cil de usar para crear una aplicaci√≥n o un sitio web.

### Contenedores

Un **contenedor** es una unidad de *software* que empaca un software en espec√≠fico junto con sus dependencias. Se diferencian de las m√°quinas virtuales en que estas virtualizan el hardware, mientras que los contenedores [virtualizan el sistema operativo](https://cloud.google.com/learn/what-are-containers "virtualizan el sistema operativo"). Los servicios de contenedores de AWS son:

- **Amazon Elastic Container Services (ECS)**: servicio para correr contenedores confiables y escalables.
- **Amazon Elastic Container Registry (ECR)**: servicio para almacenar, administrar e implementar im√°genes de contenedores.
- **Amazon Elastic Kubernetes Service (EKS)**: servicio de Kubernetes administrado por AWS.

### Serverless

La computaci√≥n **serverless** se refiere a que **la responsabilidad de administrar servidores o m√°quinas virtuales se le delega al proveedor de nube**, por lo que s√≥lo debemos precuparnos por el c√≥digo de nuestras aplicaciones. **Amazon Lambda** nos permite ejecutar piezas de c√≥digo sin servidores.

### Servicios de borde (Edge)

El [Edge Computing](https://www.xataka.com/internet-of-things/edge-computing-que-es-y-por-que-hay-gente-que-piensa-que-es-el-futuro "Edge Computing") se refiere al **c√≥mputo y procesamiento de datos en una ubicaci√≥n cercana a la necesaria para el negocio**. Los servicios de borde o edge computing de AWS son:

- **Amazon Outposts**: permite ejecutar los servicios de AWS en nuestros propios servidores en lugar de Amazon.
- **Amazon Snow Family**: es una familia de dispositivos desde un disco duro port√°til hasta un semi-remolque completo lleno de discos de almacenamiento. Estos dispositivos te permiten cargar archivos en ellos, para luego ser enviados a Amazon y cargados en sus servidores.
- **AWS Wavelength**: permite acceder a los servicios AWS desde dispositivos 5G sin pasar por Internet.
- **VMWare AWS**: permite migrar cargas de trabajo de VMWare a AWS.
- **AWS Local Zones**: permite ejecutar las aplicaciones m√°s cerca de los usuarios finales, a una menor latencia.

### Conclusi√≥n

Exploramos una gran cantidad de servicios de computaci√≥n en AWS. En las pr√≥ximas clases veremos estos servicios m√°s en detalle.

## Conoce qu√© es Amazon EC2

Amazon EC2 es un servicio de **computaci√≥n en la nube** que proporciona **servidores virtuales** (llamados *instancias*) en AWS. Te permite ejecutar aplicaciones sin necesidad de invertir en infraestructura f√≠sica, escalando seg√∫n la demanda.

### **üîπ Caracter√≠sticas Principales**

‚úÖ **Escalabilidad** ‚Äì Puedes aumentar o reducir la cantidad de servidores seg√∫n la carga.  
‚úÖ **Elecci√≥n de Hardware** ‚Äì Puedes elegir tipo de procesador, memoria RAM, almacenamiento y red.  
‚úÖ **Diferentes Tipos de Instancias** ‚Äì Optimizadas para c√≥mputo, memoria, almacenamiento o GPU.  
‚úÖ **Pago por Uso** ‚Äì Modelos de facturaci√≥n flexibles seg√∫n el tiempo y tipo de instancia.  
‚úÖ **Seguridad** ‚Äì Integraci√≥n con AWS IAM y Virtual Private Cloud (VPC) para control de acceso.

### **üîπ Tipos de Instancias en EC2**

1. **Instancias de Prop√≥sito General** ‚Äì Uso equilibrado de CPU, memoria y red. (Ej: *t3.micro, m5.large*).  
2. **Optimizadas para C√≥mputo** ‚Äì Mayor capacidad de CPU, ideal para c√°lculos intensivos. (Ej: *c6g.large*).  
3. **Optimizadas para Memoria** ‚Äì Mayor RAM, √∫til para bases de datos y an√°lisis de datos. (Ej: *r5.large*).  
4. **Optimizadas para Almacenamiento** ‚Äì Dise√±adas para manejo de grandes vol√∫menes de datos. (Ej: *i3.large*).  
5. **Instancias GPU** ‚Äì Para Machine Learning y gr√°ficos intensivos. (Ej: *p3.2xlarge*).  

### **üîπ Modelos de Pago**

üí∞ **On-Demand** ‚Äì Pago por hora/segundo sin compromisos.  
üí∞ **Reserved Instances** ‚Äì Contrato a 1 o 3 a√±os con descuentos.  
üí∞ **Spot Instances** ‚Äì Hasta 90% m√°s baratas, pero pueden ser interrumpidas.  
üí∞ **Savings Plans** ‚Äì Planes de ahorro con descuentos a cambio de compromiso de uso.  

### **üîπ Casos de Uso**

‚úÖ Aplicaciones web y backend escalables  
‚úÖ Hosting de sitios y servidores  
‚úÖ Big Data y an√°lisis de datos  
‚úÖ Machine Learning y AI con GPU  
‚úÖ Simulaciones cient√≠ficas  

### **Amazon EC2 (Elastic Compute Cloud)** üöÄ  

Amazon EC2 es un servicio de **computaci√≥n en la nube** que proporciona **servidores virtuales** (llamados *instancias*) en AWS. Te permite ejecutar aplicaciones sin necesidad de invertir en infraestructura f√≠sica, escalando seg√∫n la demanda.

### **üîπ Caracter√≠sticas Principales**

‚úÖ **Escalabilidad** ‚Äì Puedes aumentar o reducir la cantidad de servidores seg√∫n la carga.  
‚úÖ **Elecci√≥n de Hardware** ‚Äì Puedes elegir tipo de procesador, memoria RAM, almacenamiento y red.  
‚úÖ **Diferentes Tipos de Instancias** ‚Äì Optimizadas para c√≥mputo, memoria, almacenamiento o GPU.  
‚úÖ **Pago por Uso** ‚Äì Modelos de facturaci√≥n flexibles seg√∫n el tiempo y tipo de instancia.  
‚úÖ **Seguridad** ‚Äì Integraci√≥n con AWS IAM y Virtual Private Cloud (VPC) para control de acceso.

### **üîπ Tipos de Instancias en EC2**

1. **Instancias de Prop√≥sito General** ‚Äì Uso equilibrado de CPU, memoria y red. (Ej: *t3.micro, m5.large*).  
2. **Optimizadas para C√≥mputo** ‚Äì Mayor capacidad de CPU, ideal para c√°lculos intensivos. (Ej: *c6g.large*).  
3. **Optimizadas para Memoria** ‚Äì Mayor RAM, √∫til para bases de datos y an√°lisis de datos. (Ej: *r5.large*).  
4. **Optimizadas para Almacenamiento** ‚Äì Dise√±adas para manejo de grandes vol√∫menes de datos. (Ej: *i3.large*).  
5. **Instancias GPU** ‚Äì Para Machine Learning y gr√°ficos intensivos. (Ej: *p3.2xlarge*).

### **üîπ Modelos de Pago**
üí∞ **On-Demand** ‚Äì Pago por hora/segundo sin compromisos.  
üí∞ **Reserved Instances** ‚Äì Contrato a 1 o 3 a√±os con descuentos.  
üí∞ **Spot Instances** ‚Äì Hasta 90% m√°s baratas, pero pueden ser interrumpidas.  
üí∞ **Savings Plans** ‚Äì Planes de ahorro con descuentos a cambio de compromiso de uso.

### **üîπ Casos de Uso**
‚úÖ Aplicaciones web y backend escalables  
‚úÖ Hosting de sitios y servidores  
‚úÖ Big Data y an√°lisis de datos  
‚úÖ Machine Learning y AI con GPU  
‚úÖ Simulaciones cient√≠ficas

### Resumen

[EC2](https://platzi.com/clases/1323-aws-cloud-practico/12577-que-es-ec2/ "EC2") **permite alquilar m√°quinas virtuales, llamadas instancias EC2**. Puedes elegir diferentes tipos de **EC2** con diferente CPU, RAM y almacenamiento. Hay instancias optimizadas para c√≥mputo, memoria y almacenamiento, [entre otras](https://docs.aws.amazon.com/es_es/AWSEC2/latest/UserGuide/instance-types.html "entre otras").

En **EC2**, el sistema de pago m√°s com√∫n es por hora o por segundo, dependiendo el tipo de instancia. Por ejemplo, para una instancia que cueste $0.1 la hora, puedes pagar, ya sea una instancia por 24 horas o 24 instancias por una hora. En ambos casos pagas lo mismo (24 * 0.10 = $2.4).

### Opciones y precios bajo demanda

Las instancias pueden redimiensionarse. Puedes empezar por una instancia de bajo costo, y si necesitas aumenta su capacidad, apagas la instancia y seleccionas un nuevo tipo de instancia. Cuando enciendas de nuevo la instancia, ver√°s su capacidad aumentada. La siguiente tabla muestra **algunos tipos de instancias**.

| Nombre | Especificaciones | Precio |
|---|---|---|
| t3.nano | 2 vCPU‚Äôs, 0.5 GiB RAM | $0,0052/hora |
| t3.xlarge | 4 vCPU‚Äôs, 16 GiB RAM | $0,1664/hora |
| c6g.8xlarge | 32 vCPU‚Äôs, 64 GiB RAM | $1,088/hora |
| X1e.xlarge | 128 vCPU‚Äôs, 3904 GiB RAM, 2x 1920 GB SSD | $26,688/hora |

### Hosts dedicados

Los hosts dedicados en Amazon Web Services (AWS) son infraestructuras de servidores f√≠sicos que ofrecen un nivel exclusivo de recursos computacionales para las cargas de trabajo de los clientes. En lugar de compartir estos servidores con otros usuarios, los hosts dedicados permiten a los clientes tener un control m√°s granular sobre la ubicaci√≥n y asignaci√≥n de sus instancias de Amazon EC2. Esto puede ser beneficioso para aplicaciones que requieren una mayor seguridad, cumplimiento normativo o rendimiento constante.

Los hosts dedicados tambi√©n brindan la flexibilidad de llevar licencias de software existentes a la nube sin incurrir en costos adicionales. Al utilizar hosts dedicados, los principiantes en AWS pueden garantizar una mayor aislaci√≥n de recursos y una mayor predictibilidad en el rendimiento de sus aplicaciones, al tiempo que aprovechan la escala y la elasticidad de la nube de AWS.

## Contenedores de software

Los **contenedores de software** son una forma de empaquetar aplicaciones junto con sus dependencias para que se ejecuten de manera **consistente en cualquier entorno**.  

‚úÖ **Comparaci√≥n con M√°quinas Virtuales (VMs)**

| Caracter√≠stica  | Contenedores  | M√°quinas Virtuales (VMs) |
|---------------|-------------|------------------|
| Arranque r√°pido | ‚úÖ Milisegundos | ‚ùå Minutos |
| Uso de recursos | ‚úÖ Ligero | ‚ùå Pesado |
| Portabilidad  | ‚úÖ Alta | ‚ùå Depende del hipervisor |
| Escalabilidad | ‚úÖ F√°cil | ‚ùå M√°s dif√≠cil |

Los contenedores usan el **kernel del sistema operativo** y comparten recursos, lo que los hace m√°s eficientes que las VMs.

### **üîπ Tecnolog√≠as de Contenedores**  
Las principales tecnolog√≠as de contenedores incluyen:  

1Ô∏è‚É£ **Docker** ‚Äì Plataforma para construir, ejecutar y gestionar contenedores.  
2Ô∏è‚É£ **Kubernetes (K8s)** ‚Äì Orquestador de contenedores que permite escalado y administraci√≥n automatizada.  
3Ô∏è‚É£ **Podman** ‚Äì Alternativa sin daemon a Docker.

### **üîπ Contenedores en AWS**
AWS ofrece varios servicios para manejar contenedores:  

### **1. Amazon ECS (Elastic Container Service)**

‚úÖ Orquestaci√≥n de contenedores sin necesidad de gestionar servidores.  
‚úÖ Soporta Docker.  
‚úÖ Se integra con **AWS Fargate** para ejecutar contenedores sin administrar infraestructura.  

### **2. AWS Fargate**  

‚úÖ Ejecuci√≥n de contenedores **sin servidores**.  
‚úÖ AWS gestiona la infraestructura autom√°ticamente.  
‚úÖ Paga solo por los recursos usados.  

### **3. Amazon EKS (Elastic Kubernetes Service)**  

‚úÖ Servicio Kubernetes totalmente gestionado en AWS.  
‚úÖ Ideal para arquitecturas de **microservicios**.  
‚úÖ Integraci√≥n con **EC2, Fargate y AWS Lambda**.  

### **4. Amazon Lightsail Containers**  

‚úÖ Servicio simple para desplegar contenedores.  
‚úÖ Ideal para peque√±as aplicaciones y entornos de prueba.  

### **üîπ Ejemplo: Ejecutar un Contenedor en AWS ECS**

1Ô∏è‚É£ **Crear una imagen Docker** y subirla a Amazon Elastic Container Registry (ECR):  
   ```bash
   docker build -t mi-app .
   docker tag mi-app:latest 123456789012.dkr.ecr.us-east-1.amazonaws.com/mi-app
   docker push 123456789012.dkr.ecr.us-east-1.amazonaws.com/mi-app
   ```
2Ô∏è‚É£ **Crear un cluster en ECS**.  
3Ô∏è‚É£ **Definir una tarea ECS** y usar la imagen de ECR.  
4Ô∏è‚É£ **Ejecutar el servicio ECS** con balanceo de carga.

### **üîπ Casos de Uso de Contenedores**

‚úÖ Aplicaciones escalables en la nube  
‚úÖ Microservicios  
‚úÖ CI/CD con Jenkins y GitHub Actions  
‚úÖ Big Data y Machine Learning  
‚úÖ Migraci√≥n de aplicaciones monol√≠ticas a la nube

### **üöÄ Gu√≠a Pr√°ctica: Desplegar un Contenedor en AWS ECS con Fargate**  

En esta gu√≠a, vamos a:  
‚úÖ Crear una imagen Docker y subirla a AWS Elastic Container Registry (ECR).  
‚úÖ Configurar un **Cluster ECS** y ejecutar el contenedor con **AWS Fargate**.  
‚úÖ Acceder a la aplicaci√≥n en un navegador.

### **üîπ 1. Configurar AWS CLI y Docker**
Antes de comenzar, aseg√∫rate de que tienes instalados:  
üìå **AWS CLI** ‚Äì Para interactuar con AWS desde la terminal.  
üìå **Docker** ‚Äì Para construir y ejecutar contenedores localmente.  

### **üîπ Configurar Credenciales AWS**

Ejecuta en la terminal:  
```bash
aws configure
```
Ingresa:  
- **Access Key ID**  
- **Secret Access Key**  
- **Regi√≥n** (Ej: `us-east-1`)  
- **Formato** (Deja en blanco o escribe `json`)

### **üîπ 2. Crear y Subir una Imagen Docker a ECR**

### **Paso 1: Crear un Repositorio en AWS ECR**

Ejecuta:  
```bash
aws ecr create-repository --repository-name mi-app
```
Obtendr√°s un repositorio en **Amazon Elastic Container Registry (ECR)**.  

### **Paso 2: Construir la Imagen Docker**

Si no tienes una imagen, crea un archivo `Dockerfile` con:  
```dockerfile
FROM nginx:latest
COPY index.html /usr/share/nginx/html/index.html
EXPOSE 80
```
Luego, **construye la imagen**:  
```bash
docker build -t mi-app .
```

### **Paso 3: Autenticarse en ECR**

Ejecuta:  
```bash
aws ecr get-login-password --region us-east-1 | docker login --username AWS --password-stdin 123456789012.dkr.ecr.us-east-1.amazonaws.com
```
Reemplaza `123456789012` con tu **ID de cuenta AWS**.  

### **Paso 4: Etiquetar y Subir la Imagen a ECR**

```bash
docker tag mi-app:latest 123456789012.dkr.ecr.us-east-1.amazonaws.com/mi-app
docker push 123456789012.dkr.ecr.us-east-1.amazonaws.com/mi-app
```
¬°Listo! Tu imagen ya est√° en AWS ECR. üéâ  

### **üîπ 3. Crear un Cluster en Amazon ECS**

1Ô∏è‚É£ Ve a **AWS ECS** y haz clic en **Cl√∫steres ‚Üí Crear Cl√∫ster**.  
2Ô∏è‚É£ Elige **"AWS Fargate (sin servidor)"** y n√≥mbralo **"mi-cluster"**.  
3Ô∏è‚É£ **Crea el cl√∫ster**.  

### **üîπ 4. Definir una Tarea ECS**

1Ô∏è‚É£ En **ECS ‚Üí Definiciones de Tarea**, haz clic en **Crear nueva definici√≥n de tarea**.  
2Ô∏è‚É£ Tipo de lanzamiento: **Fargate**.  
3Ô∏è‚É£ Contenedor:  
   - **Nombre:** `mi-contenedor`  
   - **Imagen:** `123456789012.dkr.ecr.us-east-1.amazonaws.com/mi-app:latest`  
   - **Puerto:** `80`  
4Ô∏è‚É£ Define la **Memoria y CPU** (Ej: 0.5 vCPU, 1GB RAM).  
5Ô∏è‚É£ Guarda y **crea la tarea**.

### **üîπ 5. Ejecutar la Tarea en ECS**

1Ô∏è‚É£ Ve a **ECS ‚Üí Servicios ‚Üí Crear servicio**.  
2Ô∏è‚É£ **Tipo de Servicio:** `Fargate`.  
3Ô∏è‚É£ **Cl√∫ster:** `mi-cluster`.  
4Ô∏è‚É£ **Definici√≥n de tarea:** `mi-contenedor`.  
5Ô∏è‚É£ **N√∫mero de tareas:** `1`.  
6Ô∏è‚É£ **Configuraci√≥n de red:**  
   - **VPC:** Elige una disponible.  
   - **Subredes:** Selecciona una p√∫blica.  
   - **Habilita Auto-Asignaci√≥n de IP P√∫blica**.  
7Ô∏è‚É£ **Crea el servicio**.  

### **üîπ 6. Acceder a la Aplicaci√≥n**

1Ô∏è‚É£ Ve a **ECS ‚Üí Tareas**, selecciona la tarea en ejecuci√≥n.  
2Ô∏è‚É£ Copia la **IP P√∫blica** de la instancia.  
3Ô∏è‚É£ Abre un navegador y accede a:  
   ```
   http://IP_PUBLICA
   ```
üéâ ¬°Tu aplicaci√≥n en contenedores ya est√° corriendo en AWS ECS con Fargate! üöÄüî•

### **üîπ ¬øQu√© Sigue?**

üîπ Configurar balanceadores de carga con **AWS ALB**.  
üîπ Automatizar despliegues con **GitHub Actions + ECS**.  
üîπ Monitorear contenedores con **AWS CloudWatch**.

### Resumen

El prop√≥sito de un contenedor es **crear un paquete de tu programa y todas sus librer√≠as y dependencias con las versiones espec√≠ficas con las que has trabajado**, para producir una imagen que pueda ser ejecutada en cualquier m√°quina.

Un problema com√∫n del desarrollo de software es utilizar distintas versiones de diferentes librer√≠as/lenguajes de programaci√≥n/programas. **Docker nos permite crear contenedores** para resolver este problema.

### Amazon ECS

[Amazon ECS](https://aws.amazon.com/es/ecs/ "Amazon ECS") es un servicio de **contenedores**, donde puedes implementar tus im√°genes en contenedores en AWS. Cuando corras tus contenedores en AWS, **no notar√°s diferencia entre tu m√°quina local y el entorno de AWS**.

**Lecturas recomendadas**

[Curso de Docker [Empieza Gratis] - Platzi](https://platzi.com/cursos/docker/)

[Curso de Kubernetes [Empieza Gratis] - Platzi](https://platzi.com/cursos/k8s/)

## AWS Lambda

**AWS Lambda** es un servicio de computaci√≥n sin servidores que te permite ejecutar c√≥digo sin necesidad de administrar servidores. Solo subes tu c√≥digo y AWS se encarga de la ejecuci√≥n, escalado y administraci√≥n.

### **üîπ Caracter√≠sticas Clave**

‚úÖ **Sin Servidores** ‚Äì AWS gestiona la infraestructura autom√°ticamente.  
‚úÖ **Pago por Uso** ‚Äì Solo pagas por el tiempo que tu funci√≥n est√© en ejecuci√≥n.  
‚úÖ **Ejecuci√≥n en Respuesta a Eventos** ‚Äì Se activa con eventos de otros servicios AWS.  
‚úÖ **Escalado Autom√°tico** ‚Äì Se ajusta a la demanda sin intervenci√≥n manual.  
‚úÖ **Compatible con M√∫ltiples Lenguajes** ‚Äì Soporta Python, Node.js, Java, Go, Ruby, y m√°s.

### **üîπ Casos de Uso**  
‚úîÔ∏è **Procesamiento de Datos en Tiempo Real** (logs, m√©tricas, IoT).  
‚úîÔ∏è **Automatizaci√≥n de Tareas** (backup, limpieza de datos).  
‚úîÔ∏è **Desarrollo de APIs sin Servidor** con API Gateway + Lambda.  
‚úîÔ∏è **Integraci√≥n con Otros Servicios AWS** (S3, DynamoDB, SNS, SQS, etc.).

### **üöÄ Creando una Funci√≥n AWS Lambda en la Consola**  

### **1Ô∏è‚É£ Acceder a AWS Lambda**

1. Ve a la [consola de AWS Lambda](https://aws.amazon.com/lambda/).  
2. Haz clic en **Crear funci√≥n**.  

### **2Ô∏è‚É£ Configurar la Funci√≥n**

- **Nombre**: `mi-lambda`  
- **Tiempo de ejecuci√≥n**: `Python 3.9` (puedes elegir otro lenguaje).  
- **Permisos**: Usa los permisos por defecto o crea un rol IAM personalizado.  
- Haz clic en **Crear funci√≥n**.  

### **3Ô∏è‚É£ Escribir el C√≥digo**

AWS proporciona un editor en l√≠nea. Agrega el siguiente c√≥digo en **Python**:  
```python
import json

def lambda_handler(event, context):
    return {
        'statusCode': 200,
        'body': json.dumps('¬°Hola desde AWS Lambda!')
    }
```
Guarda los cambios y haz clic en **Implementar**.  

### **4Ô∏è‚É£ Probar la Funci√≥n**

1. Haz clic en **Probar**.  
2. Crea un evento de prueba con datos de ejemplo.  
3. Ejecuta la funci√≥n y verifica el resultado en la consola.

### **üîπ Activar Lambda con un Evento de S3**

Si quieres que Lambda se ejecute cuando se suba un archivo a S3:  
1. **Ve a Amazon S3** y selecciona un bucket.  
2. **Configuraci√≥n ‚Üí Eventos ‚Üí Crear evento**.  
3. Selecciona **PUT (carga de archivos)** como evento.  
4. Especifica el nombre de tu funci√≥n Lambda.  
5. Guarda y prueba subiendo un archivo a S3.

### **üîπ Desplegar Lambda con AWS CLI**

Si prefieres crear y subir la funci√≥n desde la terminal:  
1Ô∏è‚É£ Guarda tu c√≥digo en `lambda_function.py`.  
2Ô∏è‚É£ Empaqueta el archivo en un ZIP:  
   ```bash
   zip mi-lambda.zip lambda_function.py
   ```
3Ô∏è‚É£ Crea la funci√≥n en AWS Lambda:  
   ```bash
   aws lambda create-function \
     --function-name mi-lambda \
     --runtime python3.9 \
     --role arn:aws:iam::123456789012:role/lambda-role \
     --handler lambda_function.lambda_handler \
     --zip-file fileb://mi-lambda.zip
   ```
   Reemplaza `123456789012` con tu ID de cuenta y `lambda-role` con un rol IAM v√°lido.

### **üîπ Integraci√≥n con API Gateway**

Para exponer tu funci√≥n Lambda como una API REST:  
1. **Ve a API Gateway ‚Üí Crear API**.  
2. Selecciona **API REST** y crea un nuevo endpoint.  
3. Configura una **Integraci√≥n con AWS Lambda**.  
4. Implementa y obt√©n la URL p√∫blica de tu API.

### **üéØ ¬øQu√© Sigue?**

üîπ Conectar Lambda con **DynamoDB, SQS o SNS**.  
üîπ Usar **Lambda Layers** para reutilizar c√≥digo y dependencias.  
üîπ **Optimizar costos** ajustando memoria y tiempo de ejecuci√≥n.

### Resumen

[AWS Lambda](https://aws.amazon.com/es/lambda/faqs/ "AWS Lambda") es un servicio serverless que nos permite **ejecutar c√≥digo en respuesta a eventos, sin preocuparnos por servidores o infraestructura**. Estos eventos pueden ser temporizadores, visitas a alguna secci√≥n de nuestra aplicaci√≥n, solicitudes HTTP, entre [otros](https://docs.aws.amazon.com/es_es/lambda/latest/dg/lambda-services.html#intro-core-components-event-sources "otros").

Entre sus casos de uso encontramos el (pre)procesamiento de datos a escala, y la ejecuci√≥n de backends web, m√≥viles y de [IoT](https://aws.amazon.com/es/iot/ "IoT") interactivos. **Lambda** se puede combinar con otros servicios de AWS para crear experiencias en l√≠nea seguras, estables y escalables.

### ¬øC√≥mo se factura Lambda?

Lambda se factura por milisegundos, y el precio depende del uso de RAM. Por ejemplo, 128MB RAM x 30 millones de eventos por mes resultan en un costo de $11.63 al mes.

## Almacenamiento de datos en AWS 

AWS ofrece m√∫ltiples servicios de almacenamiento dise√±ados para diferentes necesidades. A continuaci√≥n, te explico las principales opciones y cu√°ndo usarlas.  

### **üîπ 1. Amazon S3 (Simple Storage Service) ‚Äì Almacenamiento de Objetos**  
üìå **¬øQu√© es?**  
Amazon S3 es un almacenamiento escalable para **archivos y datos no estructurados**.  

‚úÖ **Caracter√≠sticas**  
‚úî Almacenamiento **ilimitado** y pago por uso.  
‚úî Alta **disponibilidad y durabilidad** (99.999999999% de durabilidad).  
‚úî Permite almacenamiento en diferentes clases:  
   - **S3 Standard** (acceso frecuente).  
   - **S3 Intelligent-Tiering** (autom√°tico seg√∫n uso).  
   - **S3 Glacier** (archivado a largo plazo).  
‚úî Seguridad con **cifrado y control de acceso IAM**.  
‚úî Se integra con **Lambda, CloudFront y DynamoDB**.  

üõ† **Casos de Uso**  
‚úÖ Almacenamiento de im√°genes, videos, backups.  
‚úÖ Hosting de sitios web est√°ticos.  
‚úÖ Integraci√≥n con Big Data y ML.  

üë®‚Äçüíª **Ejemplo: Subir un archivo con AWS CLI**  
```bash
aws s3 cp mi-archivo.txt s3://mi-bucket/
```

### **üîπ 2. Amazon EBS (Elastic Block Store) ‚Äì Almacenamiento de Bloques**  
üìå **¬øQu√© es?**  
EBS proporciona almacenamiento en **bloques** para instancias **EC2**.  

‚úÖ **Caracter√≠sticas**  
‚úî Dise√±ado para **bases de datos y aplicaciones** de alto rendimiento.  
‚úî Se comporta como un **disco duro** (SSD/HDD).  
‚úî Persistente incluso si la instancia EC2 se detiene.  
‚úî Soporta **Snapshots** para respaldo y restauraci√≥n.  

üõ† **Casos de Uso**  
‚úÖ Almacenamiento para servidores web y bases de datos en EC2.  
‚úÖ Aplicaciones que requieren **baja latencia y alta IOPS**.  

üë®‚Äçüíª **Ejemplo: Crear un volumen EBS**  
```bash
aws ec2 create-volume --size 10 --region us-east-1 --availability-zone us-east-1a --volume-type gp2
```

### **üîπ 3. Amazon EFS (Elastic File System) ‚Äì Almacenamiento de Archivos**  
üìå **¬øQu√© es?**  
EFS es un sistema de archivos **compartido y escalable** para instancias **EC2 y contenedores**.  

‚úÖ **Caracter√≠sticas**  
‚úî Sistema de archivos basado en **NFS**.  
‚úî **Escalado autom√°tico** sin necesidad de gestionar capacidad.  
‚úî Alta disponibilidad y rendimiento.  

üõ† **Casos de Uso**  
‚úÖ Servidores web con contenido compartido.  
‚úÖ An√°lisis de datos en tiempo real con m√∫ltiples instancias.  

üë®‚Äçüíª **Ejemplo: Montar un sistema de archivos EFS**  
```bash
sudo mount -t nfs4 fs-12345678.efs.us-east-1.amazonaws.com:/ efs
```

### **üîπ 4. Amazon RDS (Relational Database Service) ‚Äì Bases de Datos Relacionales**  
üìå **¬øQu√© es?**  
Amazon RDS permite ejecutar bases de datos **gestionadas** como **MySQL, PostgreSQL, SQL Server y MariaDB**.  

‚úÖ **Caracter√≠sticas**  
‚úî No necesitas administrar hardware ni backups.  
‚úî Escalado autom√°tico y alta disponibilidad con **Multi-AZ**.  
‚úî Soporte para **Read Replicas** para mejorar rendimiento.  

üõ† **Casos de Uso**  
‚úÖ Aplicaciones que requieren **SQL** y consultas estructuradas.  
‚úÖ Sitios web y plataformas transaccionales.  

üë®‚Äçüíª **Ejemplo: Crear una base de datos RDS MySQL**  
```bash
aws rds create-db-instance --db-instance-identifier mi-bd --engine mysql --master-username admin --master-user-password password --allocated-storage 20 --db-instance-class db.t2.micro
```

### **üîπ 5. Amazon DynamoDB ‚Äì Base de Datos NoSQL**  
üìå **¬øQu√© es?**  
DynamoDB es una base de datos **NoSQL** gestionada con **alta escalabilidad**.  

‚úÖ **Caracter√≠sticas**  
‚úî Soporta **millones de consultas por segundo**.  
‚úî Modelo de datos **clave-valor** y **documentos JSON**.  
‚úî Se integra con **Lambda, API Gateway y ML**.  

üõ† **Casos de Uso**  
‚úÖ Aplicaciones serverless y de IoT.  
‚úÖ Sistemas de recomendaci√≥n y cat√°logos de productos.  

üë®‚Äçüíª **Ejemplo: Crear una tabla en DynamoDB**  
```bash
aws dynamodb create-table --table-name MiTabla --attribute-definitions AttributeName=ID,AttributeType=S --key-schema AttributeName=ID,KeyType=HASH --billing-mode PAY_PER_REQUEST
```

### **üîπ Comparaci√≥n R√°pida**
| Servicio  | Tipo de Almacenamiento | Uso Principal |
|-----------|----------------|--------------|
| **S3** | Objetos | Archivos, backups, datos no estructurados |
| **EBS** | Bloques | Discos virtuales para EC2 |
| **EFS** | Archivos | Sistemas de archivos compartidos |
| **RDS** | Relacional | Bases de datos SQL |
| **DynamoDB** | NoSQL | Aplicaciones escalables y r√°pidas |

### **üéØ ¬øQu√© Sigue?**
üîπ **Configurar backups y snapshots en AWS**.  
üîπ **Conectar almacenamiento con Machine Learning en AWS**.  
üîπ **Optimizar costos con S3 Intelligent-Tiering y EFS Infrequent Access**.

### Resumen

El almacenamiento de datos en la nube consiste en **subir tus datos a dicha red de servidores, donde se te proporcionan herramientas para que puedas acceder a ellos de diferentes maneras**.

### Tipos de almacenamiento y sus servicios

Podemos utilizar distintos tipos almacenamiento datos, y para estos hay servicios de AWS. Los tipos de almacenamiento son:

- **Basado en archivos**: el m√°s conocido por todos. Archivos organizados por carpetas y subcarpetas (sistema de ficheros). En esta categor√≠a encontramos a [Amazon Elastic File System (EFS)](https://aws.amazon.com/es/efs/ "Amazon Elastic File System (EFS)") y [Amazon FSx for Windows File Server](https://aws.amazon.com/es/fsx/windows/ "Amazon FSx for Windows File Server").
- **Bloque**: los archivos se almacenan en vol√∫menes por fragmentos de datos de igual tama√±o, sin procesar. Este tipo de almacenamiento es utilizado como disco duro de nuestros servidores o m√°quinas virtuales. En esta categor√≠a est√° [Amazon Elastic Block Store (EBS)](https://aws.amazon.com/es/ebs/ "Amazon Elastic Block Store (EBS)").
- **Objetos**: la informaci√≥n almacenada se almacena como objetos, de manera que cada objeto recibe un identificador √∫nico y se almacena en un modelo de memoria plana. Un ejemplo de esto es [Amazon Simple Storage Service (S3)](https://aws.amazon.com/es/s3/ "Amazon Simple Storage Service (S3)").

### Respaldo de datos

**Amazon Backup administra y automatiza de forma centralizada** las copias de seguridad en los servicios de AWS.

### Servicios de transferencia de datos

¬øQu√© pasa si necesitamos transferir datos de nuestros servidores hacia AWS (o viceversa)? AWS ofrece distintos servicios para la transferencia de datos.

- **AWS Storage Gateway**: un conjunto de servicios de almacenamiento en la [nube h√≠brida](https://platzi.com/clases/2200-introduccion-azure/38231-tipos-de-nube-publica-privada-e-hibrida/ "nube h√≠brida") que brinda acceso en las instalaciones al almacenamiento en la nube.
- **AWS DataSync**: acelera el traslado de datos desde y hacia AWS hasta diez veces m√°s r√°pido de lo normal.
- **AWS Transfer Family**: escala de forma segura tus transferencias recurrentes de archivos de **Amazon S3** y **Amazon EFS** con los protocolos [FTP](https://www.arsys.es/soporte/hosting-web/ftp/que-es-ftp#:~:text=FTP%20es%20un%20protocolo%20que,directorios%2C%20borrar%20ficheros%2C%20etc. "FTP"), [SFTP](https://es.wikipedia.org/wiki/SSH_File_Transfer_Protocol "SFTP") y [FTPS](https://es.wikipedia.org/wiki/FTPS "FTPS").

**Conclusi√≥n**

Exploramos de manera breve los distintos servicios de almacenamiento de AWS, as√≠ como los tipos de almacenamiento que podemos utilizar.

## S3 y S3 Glacier

Amazon S3 y S3 Glacier son servicios de almacenamiento de objetos en AWS, pero tienen diferentes prop√≥sitos.  

- **Amazon S3** ‚Üí Para datos de acceso frecuente o moderado.  
- **Amazon S3 Glacier** ‚Üí Para archivado a largo plazo con menor costo.  

### **üîπ Amazon S3 (Simple Storage Service)**

üìå **¬øQu√© es?**  
Amazon S3 es un servicio de **almacenamiento de objetos** que permite guardar datos en la nube de forma escalable, segura y de alta disponibilidad.  

‚úÖ **Caracter√≠sticas Clave**  
‚úî **Almacenamiento duradero (99.999999999%)** para datos no estructurados.  
‚úî **Pago por uso**, sin costos iniciales.  
‚úî **Integraci√≥n con Lambda, CloudFront, DynamoDB y m√°s**.  
‚úî **Versionado y control de acceso** con pol√≠ticas IAM.  
‚úî **Cifrado** en tr√°nsito y en reposo.  

üõ† **Casos de Uso**  
‚úÖ Hosting de sitios web est√°ticos.  
‚úÖ Almacenamiento de im√°genes, videos y backups.  
‚úÖ Procesamiento de Big Data y Machine Learning.  

üë®‚Äçüíª **Ejemplo: Subir un archivo a S3 con AWS CLI**  
```bash
aws s3 cp mi-archivo.txt s3://mi-bucket/
```

### **üîπ Amazon S3 Glacier** (Archivado de Datos de Bajo Costo)

üìå **¬øQu√© es?**  
S3 Glacier es un servicio de almacenamiento **de bajo costo** para datos que no necesitan acceso inmediato.  

‚úÖ **Caracter√≠sticas Clave**  
‚úî **Hasta 80% m√°s barato que S3 Standard**.  
‚úî Dise√±ado para **archivado a largo plazo**.  
‚úî **Recuperaci√≥n de datos en diferentes velocidades** (Expedited, Standard, Bulk).  
‚úî **Alta durabilidad (99.999999999%)**.  

üõ† **Casos de Uso**  
‚úÖ Backups hist√≥ricos y recuperaci√≥n ante desastres.  
‚úÖ Archivos de registros y auditor√≠as.  
‚úÖ Cumplimiento normativo y retenci√≥n de datos.  

üë®‚Äçüíª **Ejemplo: Mover un archivo de S3 a Glacier**  
```bash
aws s3 mv s3://mi-bucket/mi-archivo.txt s3://mi-bucket/mi-archivo.txt --storage-class GLACIER
```

### **üîπ Comparaci√≥n R√°pida**  

| **Caracter√≠stica** | **Amazon S3** | **S3 Glacier** |
|--------------------|--------------|---------------|
| **Costo** | M√°s alto | Mucho m√°s barato |
| **Velocidad de Acceso** | Inmediato | Desde minutos hasta horas |
| **Casos de Uso** | Archivos en uso frecuente | Archivado a largo plazo |
| **Durabilidad** | 99.999999999% | 99.999999999% |
| **Recuperaci√≥n de Datos** | Instant√°nea | **Expedited (minutos), Standard (3-5h), Bulk (12-48h)** |

### **üéØ ¬øQu√© Elegir?**
- **Si necesitas acceso frecuente ‚Üí S3 Standard.**  
- **Si los datos se usan poco ‚Üí S3 Standard-IA o Intelligent-Tiering.**  
- **Si es almacenamiento de archivos a largo plazo ‚Üí S3 Glacier.**

### Resumen

[Amazon S3](https://aws.amazon.com/es/s3/ "Amazon S3") es un servicio de almacenamiento de objetos, l√≠der en la industria. Otorga una **garant√≠a de no p√©rdida de datos del 99.999999999%** (11 9‚Äôs).

### Clases de almacenamiento en S3

Amazon nos ofrece [distintas clase de almacenamiento](https://aws.amazon.com/es/s3/storage-classes/?nc=sn&loc=3 "distintas clase de almacenamiento") S3 en funci√≥n de nuestras necesidades de acceso y disponibilidad de los datos.

- **S3 Standard**: almacenamiento de objetos de alta durabilidad, disponibilidad y rendimiento para datos a los que se obtiene acceso con frecuencia.
- **S3 Standard-IA**: se utiliza con datos a los que se accede con menos frecuencia, pero que requieren un acceso r√°pido cuando es necesario.
- **S3 Zone-IA**: similar a Standard-IA, pero con un menor costo de almacenamiento ya que solo usa una zona de disponibilidad. Distinto de las dem√°s clases de almacenamiento de S3, que almacenan datos en un m√≠nimo de tres zonas de disponibilidad (AZ).
- **S3 Glacier**: ofrece el almacenamiento de menor costo para los datos de larga duraci√≥n y acceso poco frecuente. Tiene un costo de $1 por TB al mes. Tiene tres opciones para la recuperaci√≥n de datos (est√°ndar, masiva y acelerada).
- **S3 Glacier Deep Archive**: la clase de almacenamiento m√°s econ√≥mica de Amazon S3. Admite la retenci√≥n a largo plazo y la conservaci√≥n digital de datos a los que se accede una o dos veces al a√±o.
- **S3 Intelligent-Tiering**: un tipo de almacenamiento que intenta ahorrar costos moviendo archivos entre los distintos tipos de almacenamiento S3, basado en los patrones de uso de los archivos.

**Conclusi√≥n**

Tenemos variedad de opciones para escoger la clase de almacenamiento S3 en funci√≥n de nuestras necesidades. Si necesitamos un almacenamiento altamente disponible y duradero, **S3 Standard** es la mejor opci√≥n, mientras que si necesitamos un almacenamiento a largo plazo y de acceso infrecuente, podemos usar **S3 Glacier**. Escoge la mejor opci√≥n seg√∫n tu caso de uso.

**Lecturas recomendadas**

[Tipos de almacenamiento en la nube | Amazon S3](https://aws.amazon.com/es/s3/storage-classes/)